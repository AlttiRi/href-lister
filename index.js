import{r as w,c as k,a as J,d as C,o as g,b as x,e as o,w as B,v as N,u as m,i as Q,p as R,f as j,s as X,g as Z,h as z,j as tt,k as et,n as O,l as nt,t as L,m as V,q as ot,x as st,y as rt,F as E,z as at,A as U,B as W,T as ct,C as S,D as lt}from"./vendor.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const c of e)if(c.type==="childList")for(const i of c.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function r(e){const c={};return e.integrity&&(c.integrity=e.integrity),e.referrerPolicy&&(c.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?c.credentials="include":e.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(e){if(e.ep)return;e.ep=!0;const c=r(e);fetch(e.href,c)}})();const h=w(""),y=w(null),Y=k(()=>{const t=it(h.value),n=J(t);return console.log(t,n),n}),D=k(()=>Y.value.map(t=>t.url));function it(t){const n=t.split(`
`).map(s=>s.trim()).filter(s=>s),r=[];for(const s of n){const[e,...c]=s.split(/\s+(#|\/\/)/),[i,...l]=e.trim().split(/\s+/);if(i.startsWith("http")){const p=I(i);if(p&&l.every(v=>!I(v))){r.push({url:p,comment:[...l,...c].join(" ")});continue}p&&r.push({url:p})}else l.unshift(i);for(const p of l){const v=I(p);v&&r.push({url:v})}}return r}function I(t){const n=t.match(/(['"]?)(?<url>https?:\/\/[^\s"]+)(\1)/);if(console.log(n),n!=null&&n.groups)return n.groups.url}function ut(t,n=100){const r=l=>`${l.length?'["'+l.join('", "')+'"]':"[]"}`;if(t.length<=n)return`/* ${t.length.toString().padStart(3)} */ ${r(t)},`;const s=l=>l.toString().length,e=Math.trunc(t.length/n),i=[`/* ${t.length.toString().padStart(1+s(t.length))+" ".repeat(3+s(e))} */`];for(let l=0;l<=e;l++){const p=t.slice(n*l,n+n*l),v=`(${l+1})`.padStart(2+s(e)),a=p.length.toString().padStart(1+s(t.length));i.push(`/* ${a} ${v} */ ${r(p)},`)}return i.join(`
`)}const A=t=>(R("data-v-f9a7f093"),t=t(),j(),t),dt={class:"row row-cols-lg-3 g-3 align-items-end"},pt={class:"input col-12"},ft=A(()=>o("label",{for:"urls-textarea",class:"fuck-off-lighthouse"},null,-1)),_t={class:"input col-12"},mt={class:"row"},vt=A(()=>o("span",{class:"btn-group"},[o("span",{class:"input-group-text me-2"},"Clipboard")],-1)),ht={class:".col m-1"},gt=A(()=>o("span",{class:"btn-group"},[o("span",{class:"input-group-text me-2 text-center"},"Controls")],-1)),bt=C({__name:"InputControls",setup(t){const n=new WeakMap;async function r(a){a.classList.add("btn-active");const u=X(150);n.set(a,u),await u,n.get(a)===u&&a.classList.remove("btn-active")}const s=w(null);function e(a){var u;h.value="",(u=s.value)==null||u.focus(),r(a.currentTarget)}function c(a){navigator.clipboard.writeText(D.value.join(" ")),r(a.currentTarget)}function i(a){a.preventDefault(),navigator.clipboard.writeText(D.value.join(`
`)),r(a.currentTarget)}function l(a){a.button===1&&(a.preventDefault(),navigator.clipboard.writeText(ut(D.value)),r(a.currentTarget))}async function p(a){const{currentTarget:u}=a,b=await navigator.clipboard.readText();console.log("[clipboard] readText:",b),h.value&&!h.value.endsWith(`
`)&&(h.value+=`
`),h.value+=b,r(u)}async function v(a){const{currentTarget:u}=a,b=await navigator.clipboard.readText();console.log("[clipboard] readText:",b),h.value=b,r(u)}return(a,u)=>(g(),x("div",dt,[o("div",pt,[ft,B(o("textarea",{id:"urls-textarea",spellcheck:"false","onUpdate:modelValue":u[0]||(u[0]=b=>Q(h)?h.value=b:null),ref_key:"textareaEl",ref:s},null,512),[[N,m(h)]])]),o("div",_t,[o("span",mt,[o("span",{class:".col m-1"},[vt,o("button",{class:"btn btn-outline-primary me-1",onClick:v},"Replace"),o("button",{class:"btn btn-outline-primary me-1",onClick:p},"Append")]),o("span",ht,[gt,o("button",{class:"btn btn-outline-primary me-1",onClick:e},"Clear"),o("button",{class:"btn btn-primary me-1",title:"Copy URLs",onClick:c,onContextmenu:i,onPointerdown:l},"Copy",32)])])])]))}});const M=(t,n)=>{const r=t.__vccOpts||t;for(const[s,e]of n)r[s]=e;return r},yt=M(bt,[["__scopeId","data-v-f9a7f093"]]);function xt(t,n=50){let r=!1,s=!1,e,c;return function(...i){r?(e=this,c=i,s=!0):(r=!0,setTimeout(function(){s&&t.apply(e,c),r=s=!1},n),t.apply(this,i))}}const Ct={class:"col-9 nowrap-text-ceil"},wt={class:"nowrap-text-ceil-content"},$t=["title","onContextmenu"],Tt=["href","title"],kt={class:"comment-content nowrap-text-ceil-content no-dbl-click-select"},Mt=C({__name:"UrlListItem",props:{ue:null},setup(t){const n=t,r=n.ue.url,s=Z("HrefLister","Visits"),e=w(-1);z(async()=>{e.value=await a()||-2,console.log(e.value)});const c=k(i);function i(){return e.value<0?"never clicked":b(e.value)}function l(){V(y.value)===V(n.ue)?y.value=null:y.value=n.ue}const p=k(()=>{if(e.value<0)return"never-clicked";const f=Date.now(),d=Math.trunc((f-e.value)/1e3);return d<60?"minute-1":d<60*2?"minute-2":d<60*5?"minute-5":d<60*10?"minute-10":d<60*30?"minute-30":d<60*60?"hour-1":d<60*60*2?"hour-2":d<60*60*24?"day-1":"day-n"});async function v(){const f=Date.now();await ot(r,f,s),e.value=f}function a(){return tt(r,s)}async function u(){await st(r,s),e.value=-2}function b(f){return q(f)+" — "+et(f,"YYYY.MM.DD HH:mm:SS",!1)}function q(f){const d=Date.now(),_=Math.trunc((d-f)/1e3);if(_<60)return`${_} second${_>1?"s":""} ago`;if(_<60*60){const T=Math.trunc(_/60);return`${T} minute${T>1?"s":""} ago`}if(_<60*60*24){const T=Math.trunc(_/60%60).toString().padStart(2,"0");return`${Math.trunc(_/60/60)}:${T} ago`}return Math.trunc(_/60/60/24)+" days ago"}const $=w(!1);function F(){$.value=!0,v()}function H(){$.value=!$.value}const P=xt(K,1e3);function K(){rt(e)}function G(f){f.button===1&&(f.preventDefault(),u())}return(f,d)=>(g(),x("tr",{class:O({clicked:$.value}),onPointerenter:d[0]||(d[0]=(..._)=>m(P)&&m(P)(..._))},[o("td",Ct,[o("span",wt,[o("span",{class:O(["info-dot",{["has-comment"]:t.ue.comment,visited:e.value>0,[m(p)]:!0}]),title:m(c),onContextmenu:nt(H,["prevent"]),onPointerdown:G},null,42,$t),o("a",{class:"url link-primary",target:"_blank",rel:"noreferrer noopener",href:t.ue.url,title:t.ue.comment,onClick:F},L(t.ue.url),9,Tt)])]),o("td",{class:"col-3 comment nowrap-text-ceil",onDblclick:l},[o("span",kt,L(t.ue.comment||" "),1)],32)],34))}});const Dt=M(Mt,[["__scopeId","data-v-59309b00"]]),It={class:"table table-borderless"},Lt=C({__name:"UrlList",setup(t){return(n,r)=>(g(),x("div",null,[o("table",It,[o("tbody",null,[(g(!0),x(E,null,at(m(Y),s=>(g(),U(Dt,{key:s.url,ue:s},null,8,["ue"]))),128))])])]))}}),St={key:0,class:"message-edit-popup modal"},Et={class:"popup-content"},Ut={class:"modal-content"},At={class:"modal-header"},Pt={class:"modal-title"},Ot={class:"modal-body"},Vt=C({__name:"MessageEditPopup",setup(t){function n(){y.value=null}return(r,s)=>(g(),U(ct,{to:"body"},[m(y)?(g(),x("div",St,[o("div",Et,[o("div",Ut,[o("div",At,[o("h5",Pt,L(m(y).url),1),o("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:n})]),o("div",Ot,[B(o("textarea",{rows:"5","onUpdate:modelValue":s[0]||(s[0]=e=>m(y).comment=e)},null,512),[[N,m(y).comment]])])])])])):W("",!0)]))}});const Bt=M(Vt,[["__scopeId","data-v-325bdd41"]]),Nt=o("hr",null,null,-1),Rt=o("hr",null,null,-1),jt=C({__name:"Main",setup(t){return(n,r)=>(g(),x(E,null,[Nt,S(yt),Rt,S(Lt),m(y)?(g(),U(Bt,{key:0})):W("",!0)],64))}}),Wt=t=>(R("data-v-80fad6c5"),t=t(),j(),t),Yt=Wt(()=>o("a",{class:"readme",title:"Open Readme",href:"https://github.com/AlttiRi/href-lister#keeplister",target:"_blank"},[o("i",null,"i")],-1)),qt=C({__name:"App",setup(t){return(n,r)=>(g(),x(E,null,[S(jt),Yt],64))}});const Ft=M(qt,[["__scopeId","data-v-80fad6c5"]]);lt(Ft).mount("#app");
//# sourceMappingURL=index.js.map
