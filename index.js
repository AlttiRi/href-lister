import{r as $,c as C,d as T,o as p,a as _,b as o,w as tt,v as et,u as m,i as nt,p as q,e as N,f as ht,g as _t,h as gt,s as vt,j as yt,t as W,k as at,l as Ct,m as b,n as E,q as P,T as it,x as Mt,y as Pt,z as ut,F as Y,A as Q,B as Dt,C as Vt,D as X,E as Ot,G as U,H as $t,I as Rt,J as At,K as qt}from"./vendor.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();const bt={input_only:"",input_only_disabled:!1,input_ignore:"",input_ignore_disabled:!1,reverse_input_only:!1,case_sensitive:!1},J=$(bt.input_only),K=$(bt.input_ignore),Nt=C(()=>{let e=J.value.trim().split(/\s+/g).filter(a=>a),t=K.value.trim().split(/\s+/g).filter(a=>a);e=e.map(a=>a.toLowerCase()),t=t.map(a=>a.toLowerCase());let n,s;return n=a=>e.some(i=>a.toLowerCase().includes(i)),s=a=>t.some(i=>a.toLowerCase().includes(i)),{matchOnly:n,matchIgnore:s,onlyParts:e,ignoreParts:t}}),Bt=C(()=>{const{matchOnly:e,matchIgnore:t,onlyParts:n}=Nt.value;return n.length?s=>e(s):s=>!t(s)}),Tt=e=>(q("data-v-40d2bd48"),e=e(),N(),e),jt={class:"row row-cols-lg-3 g-3 align-items-center","data-comp":"Filters"},Ft={class:"col-12"},Ht={class:"input-group"},Wt=Tt(()=>o("span",{class:"input-group-text"},"Only",-1)),Yt={class:"col-12"},Xt={class:"input-group"},Jt=Tt(()=>o("span",{class:"input-group-text"},"Ignore",-1)),Kt=T({__name:"Filters",setup(e){return(t,n)=>(p(),_("div",jt,[o("div",Ft,[o("label",null,[o("span",Ht,[Wt,tt(o("input",{type:"text",class:"form-control","onUpdate:modelValue":n[0]||(n[0]=s=>nt(J)?J.value=s:null)},null,512),[[et,m(J)]])])])]),o("div",Yt,[o("label",null,[o("span",Xt,[Jt,tt(o("input",{type:"text",class:"form-control","onUpdate:modelValue":n[1]||(n[1]=s=>nt(K)?K.value=s:null)},null,512),[[et,m(K)]])])])])]))}}),x=(e,t)=>{const n=e.__vccOpts||e;for(const[s,a]of t)n[s]=a;return n},Gt=x(Kt,[["__scopeId","data-v-40d2bd48"]]),R={createStore:ht,del:_t,get:gt,set:vt,entries:yt},G=R.createStore("HrefListerUrlInfo","UrlInfo"),wt=class H{constructor(t,n,s){this.url=t,this.state=n,s&&(this.inputComment=s),n.visited&&(this.initialVisited=n.visited)}static async getInstance({url:t,inputComment:n}){let s=H.stateMap.get(t);return s?new H(t,s,n):(s=await R.get(t,G),s===void 0&&(s={}),H.stateMap.set(t,s),new H(t,s,n))}isEquals(t){return t?this.state===t.state&&this.inputComment===t.inputComment:!1}get comment(){return this.state.comment}get visited(){return this.state.visited}get tags(){return this.state.tags}async setComment(t){this.state.comment=t,await this.update()}async delComment(){delete this.state.comment,await this.update()}async setVisited(t){this.state.visited=t,await this.update()}async delVisited(){delete this.state.visited,await this.update()}async addTag(t){this.state.tags||(this.state.tags=[]),!this.state.tags.includes(t)&&(this.state.tags.push(t),await this.update())}async delTag(t){if(!this.state.tags)return;const n=this.state.tags.indexOf(t);n!=-1&&(this.state.tags.splice(n,1),this.state.tags.length===0&&delete this.state.tags,await this.update())}update(){return Object.keys(this.state).length?R.set(this.url,W(this.state),G):R.del(this.url,G)}};wt.stateMap=new Map;let It=wt;const zt=R.createStore("HrefListerComments","Comments"),Qt=R.createStore("HrefLister","Visits");Object.assign(globalThis,{idb:{createStore:ht,del:_t,get:gt,set:vt,entries:yt,commentsStore:zt,visitsStore:Qt,urlInfoStore:G},UrlEntry:It});function Zt(e){const t=e.split(`
`).map(s=>s.trim()).filter(s=>s),n=[];for(const s of t){const[a,...i]=s.split(/\s+(#|\/\/)/),[c,...r]=a.trim().split(/\s+/);if(c.startsWith("http")){const l=Z(c);if(l&&r.every(u=>!Z(u))){n.push({url:l,inputComment:[...r,...i].join(" ")});continue}l&&n.push({url:l})}else r.unshift(c);for(const l of r){const u=Z(l);u&&n.push({url:u})}}return n}function Z(e){const t=e.match(/(['"]?)(?<url>https?:\/\/[^\s"]+)(\1)/);if(console.log(t),t?.groups)return t.groups.url}const te=-1,I=$(""),k=$(null),S=$(null),z=$(new Set),st=$(!1),w=$(null),kt=$([]);at(async()=>{const e=Zt(I.value),t=[];for(const n of e)t.push(await It.getInstance(n));kt.value=t});const xt=C(()=>kt.value.filter(e=>Bt.value(e.url))),A=C(()=>xt.value.map(e=>e.url));location.href==="http://localhost:5173/"&&(I.value=`http://localhost:5173/ asdf
http://localhost:5173/#qqq
http://localhost:5173/#qqq
http://localhost:5173/#www
`);function ee(e,t=50){let n=!1,s=!1,a,i;function c(){s?(setTimeout(c,t),e.apply(a,i)):n=!1,s=!1}return function(...r){n?(a=this,i=r,s=!0):(n=!0,setTimeout(c,t),e.apply(this,r))}}function ne(e,t=100){const n=r=>`${r.length?'["'+r.join('", "')+'"]':"[]"}`;if(e.length<=t)return`/* ${e.length.toString().padStart(3)} */ ${n(e)},`;const s=r=>r.toString().length,a=Math.trunc(e.length/t),c=[`/* ${e.length.toString().padStart(1+s(e.length))+" ".repeat(3+s(a))} */`];for(let r=0;r<=a;r++){const l=e.slice(t*r,t+t*r),u=`(${r+1})`.padStart(2+s(a)),d=l.length.toString().padStart(1+s(e.length));c.push(`/* ${d} ${u} */ ${n(l)},`)}return c.join(`
`)}function se(e){const t=Date.now(),n=Math.trunc((t-e)/1e3);if(n<60)return`${n} second${n>1?"s":""} ago`;if(n<60*60){const s=Math.trunc(n/60);return`${s} minute${s>1?"s":""} ago`}if(n<60*60*24){const s=Math.trunc(n/60%60).toString().padStart(2,"0");return`${Math.trunc(n/60/60)}:${s} ago`}return Math.trunc(n/60/60/24)+" days ago"}function oe(e){let t=0;for(let n=0;n<e.length;n++)t=Math.imul(Math.imul(31,t)+e.charCodeAt(n),1);return t}const dt=["1st","2nd","3rd"];function ae(e){return e=Number(e),dt[e]?dt[e]:e+1+"th"}const rt=e=>(q("data-v-09a95f35"),e=e(),N(),e),ie={class:"row row-cols-lg-3 g-3 align-items-end","data-comp":"InputControls"},re={class:"input col-12"},le=rt(()=>o("label",{for:"urls-textarea",class:"fuck-off-lighthouse"},null,-1)),ce={class:"input col-12"},ue={class:"row"},de=rt(()=>o("span",{class:"btn-group"},[o("span",{class:"input-group-text me-2"},"Clipboard")],-1)),pe={class:".col m-1"},fe=rt(()=>o("span",{class:"btn-group"},[o("span",{class:"input-group-text me-2 text-center"},"Controls")],-1)),me=T({__name:"InputControls",setup(e){const t=new WeakMap;async function n(d){d.classList.add("btn-active");const h=Ct(150);t.set(d,h),await h,t.get(d)===h&&d.classList.remove("btn-active")}const s=$(null);function a(d){I.value="",s.value?.focus(),n(d.currentTarget)}function i(d){navigator.clipboard.writeText(A.value.join(" ")),n(d.currentTarget)}function c(d){d.preventDefault(),navigator.clipboard.writeText(A.value.join(`
`)),n(d.currentTarget)}function r(d){d.button===1&&(d.preventDefault(),navigator.clipboard.writeText(ne(A.value)),n(d.currentTarget))}async function l(d){const{currentTarget:h}=d,v=await navigator.clipboard.readText();console.log("[clipboard] readText:",v),I.value&&!I.value.endsWith(`
`)&&(I.value+=`
`),I.value+=v,n(h)}async function u(d){const{currentTarget:h}=d,v=await navigator.clipboard.readText();console.log("[clipboard] readText:",v),I.value=v,n(h)}return(d,h)=>(p(),_("div",ie,[o("div",re,[le,tt(o("textarea",{id:"urls-textarea",spellcheck:"false","onUpdate:modelValue":h[0]||(h[0]=v=>nt(I)?I.value=v:null),ref_key:"textareaEl",ref:s},null,512),[[et,m(I)]])]),o("div",ce,[o("span",ue,[o("span",{class:".col m-1"},[de,o("button",{class:"btn btn-outline-primary me-1",onClick:u},"Replace"),o("button",{class:"btn btn-outline-primary me-1",onClick:l},"Append")]),o("span",pe,[fe,o("button",{class:"btn btn-outline-primary me-1",onClick:a},"Clear"),o("button",{class:"btn btn-primary me-1",title:"Copy URLs",onClick:i,onContextmenu:c,onPointerdown:r},"Copy",32),o("button",{hidden:"",class:"btn btn-outline-primary me-1",title:"Popup",onClick:h[1]||(h[1]=v=>st.value=!m(st))},"Popup")])])])]))}}),he=x(me,[["__scopeId","data-v-09a95f35"]]),pt=C(()=>{const e=[...new Set(A.value)].sort().join(" ");return Math.abs(oe(e)).toString(16).slice(-8).padStart(8,"0").toUpperCase()}),F=C(()=>{const e=A.value,t=e.length,n=new Set(e).size;return{count:t,uniqueCount:n}}),M=C(()=>{let e=0;const t=new Set;for(const n of A.value)z.value.has(n)&&(e++,t.add(n));return{count:e,uniqueCount:t.size}}),B=e=>(q("data-v-456c13e6"),e=e(),N(),e),_e={"data-comp":"URLsInfoLine"},ge={title:"URLs count"},ve={key:0,title:"URLs count (unique)"},ye=B(()=>o("span",{class:"grey"}," — ",-1)),Ce={title:"URLs hash"},$e=B(()=>o("span",{class:"grey"},"#",-1)),be={class:"urls-hash"},Te={key:0},we=B(()=>o("span",{class:"grey"}," — ",-1)),Ie=B(()=>o("span",{class:"grey"},"[",-1)),ke={class:"clicked-count"},xe={title:"Clicked URLs count"},Le={key:0,title:"Clicked URLs count (unique)"},Se=B(()=>o("span",{class:"grey"},"]",-1)),Ee=B(()=>o("span",{class:"grey"}," — ",-1)),Ue=["title"],Me=T({__name:"URLsInfoLine",setup(e){at(()=>{const{count:i,uniqueCount:c}=F.value;if(!i){document.title="HrefLister";return}if(document.title=`HrefLister — ${t(i,c)} — #${pt.value}`,M.value.count){const{count:r,uniqueCount:l}=M.value;document.title=`${document.title} — [ ${t(r,l)} ]`}});function t(i,c){let r=i.toString();return i!==c&&(r=`${r} (${c})`),r}async function n(){if(!w.value)return;const i=w.value.elem;i.scrollIntoView({block:"center"}),i.classList.add("highlighted-2"),await Ct(800),i.classList.remove("highlighted-2")}function s(){w.value&&w.value.elem.classList.add("highlighted-1")}function a(){w.value&&w.value.elem.classList.remove("highlighted-1")}return(i,c)=>(p(),_("div",_e,[o("span",null,[o("span",ge,b(m(F).count),1),m(F).count!==m(F).uniqueCount?(p(),_("span",ve," ("+b(m(F).uniqueCount)+")",1)):E("",!0)]),ye,o("span",Ce,[$e,o("span",be,b(m(pt)),1)]),m(M).count?(p(),_("span",Te,[we,o("span",null,[Ie,o("span",ke,[o("span",xe,b(m(M).count),1),m(M).count!==m(M).uniqueCount?(p(),_("span",Le," ("+b(m(M).uniqueCount)+")",1)):E("",!0)]),Se])])):E("",!0),m(w)?(p(),_("span",{key:1,onClick:n,onPointerenter:s,onPointerleave:a},[Ee,o("span",{class:"grey",title:`Last clicked URL index
`+m(w).entry.url},b(m(ae)(m(w).index)),9,Ue)],32)):E("",!0)]))}}),Pe=x(Me,[["__scopeId","data-v-456c13e6"]]);function Lt(e,t){for(const[n,s]of Object.entries(t))e.style[n]=s}function De(e,{handle:t,onStop:n,onMove:s,state:a}={}){const i=r=>{s?.(r),Lt(e,r)};a&&(i(a),n?.(a));const c=t||e;c.style.userSelect="none",c.style.touchAction="none",e.style.position="absolute",c.addEventListener("pointerdown",r=>{const l=r.clientY-parseInt(getComputedStyle(e).top),u=r.clientX-parseInt(getComputedStyle(e).left);let d;function h(g){!c.hasPointerCapture(g.pointerId)&&c.setPointerCapture(g.pointerId),d={top:g.clientY-l+"px",left:g.clientX-u+"px"},i(d)}function v(){removeEventListener("pointermove",h),d&&n?.(d)}addEventListener("pointermove",h,{passive:!0}),addEventListener("pointerup",v,{once:!0})},{passive:!0})}function Ve(e,{minW:t=32,minH:n=32,size:s=16,onStop:a,onMove:i,state:c}={}){const r=u=>{i?.(u),Lt(e,u)};c&&(r(c),a?.(c));const l=document.createElement("div");l.style.cssText=`width: ${s}px; height: ${s}px; border-radius: ${s/2}px;bottom: ${-(s/2)}px; right: ${-(s/2)}px; position: absolute; background-color: transparent; cursor: se-resize; touch-action: none;`,e.append(l),l.addEventListener("pointerdown",u=>{l.setPointerCapture(u.pointerId);const d=u.clientX-e.offsetLeft-parseInt(getComputedStyle(e).width),h=u.clientY-e.offsetTop-parseInt(getComputedStyle(e).height);let v;function g(L){let j=L.clientX-e.offsetLeft-d,V=L.clientY-e.offsetTop-h;j<t&&(j=t),V<n&&(V=n),v={width:j+"px",height:V+"px"},r(v)}function D(){l.removeEventListener("pointermove",g),v&&a?.(v)}l.addEventListener("pointermove",g,{passive:!0}),l.addEventListener("lostpointercapture",D,{once:!0})},{passive:!0})}function ft({id:e,onMove:t,onStop:n,reset:s,restore:a}){if(s&&e&&localStorage.removeItem(e),!a||!e)return{onMove:t,onStop:n};const i=localStorage.getItem(e);let c;i&&(c=JSON.parse(i));function r(u){localStorage.setItem(e,JSON.stringify(u))}let l;return n?l=function(u){n(u),r(u)}:l=r,{onMove:t,onStop:l,state:c}}const Oe=e=>(q("data-v-40ba8c27"),e=e(),N(),e),Re=Oe(()=>o("div",null,"Popup",-1)),Ae=T({__name:"AutoClickPopup",setup(e){const t=$(),n=$();return at(()=>{!t.value||!n.value||(De(t.value,{handle:n.value,...ft({restore:!0,id:"href-lister-popup-move-state"})}),Ve(t.value,{minH:parseInt(getComputedStyle(t.value).height),minW:parseInt(getComputedStyle(t.value).width),...ft({restore:!0,id:"href-lister-popup-resize-state"})}))}),(s,a)=>m(st)?(p(),P(it,{key:0,to:"body"},[o("div",{ref_key:"popupElem",ref:t,class:"popup","data-comp":"AutoClickPopup"},[o("div",{ref_key:"headerElem",ref:n,class:"header"},"Header",512),Re],512)])):E("",!0)}}),qe=x(Ae,[["__scopeId","data-v-40ba8c27"]]),lt=1e3*60,mt=lt*10,ot=lt*60,Ne=ot*24;class Be{constructor(t){this.timeRef=t,Mt(t,n=>{n>0&&this.setTimer()}),Pt(()=>{this.clearTimer()})}setTimer(){this.clearTimer();const t=Date.now()-this.timeRef.value;let n;if(t<mt)n=lt;else if(t<ot)n=mt;else if(t<Ne)n=ot;else return;this.timerId=setTimeout(()=>{ut(this.timeRef),this.setTimer()},n)}clearTimer(){clearTimeout(this.timerId)}forceTrigger(){ut(this.timeRef),this.setTimer()}}const je=e=>(q("data-v-47825c5d"),e=e(),N(),e),Fe={class:"tags"},He={class:"tag-master","data-comp":"EntryTags"},We=["data-tag"],Ye={key:0,class:"tag add-tag"},Xe=je(()=>o("span",{class:"plus"},"+",-1)),Je=[Xe],Ke=T({__name:"UrlListItemTags",props:{ue:{}},setup(e){const t=e;function n(){W(S.value)===W(t.ue)?S.value=null:S.value=t.ue,console.log(S.value)}return(s,a)=>(p(),_("div",{class:"tags-wrapper",onClick:n,"data-comp":"UrlListItemTags"},[o("div",Fe,[o("div",He,[(p(!0),_(Y,null,Q(s.ue.tags,i=>(p(),_("div",{class:"tag","data-tag":i},b(i),9,We))),256))])]),s.ue.tags?.length?E("",!0):(p(),_("div",Ye,Je))]))}}),Ge=x(Ke,[["__scopeId","data-v-47825c5d"]]),ze=["data-index"],Qe={class:"col-9 nowrap-text-ceil url url-cell"},Ze={class:"nowrap-text-ceil-content"},tn=["title"],en=["href","title"],nn={class:"comment-content nowrap-text-ceil-content no-dbl-click-select"},sn=T({__name:"UrlListItem",props:{ue:{},index:{}},setup(e){const t=e,n=C(()=>t.ue.visited||te);function s(){t.ue.delVisited()}function a(){const f=Date.now();t.ue.setVisited(f)}function i(f){f.button===1&&(f.preventDefault(),s())}const c=C(()=>{if(t.ue.comment!==void 0){if(!t.ue.inputComment)return"comment-from-store";if(t.ue.comment!==t.ue.inputComment)return"comment-from-store-over"}return""}),r=C(()=>t.ue.comment!==void 0?t.ue.comment.trim():t.ue.inputComment);function l(){W(k.value)===W(t.ue)?k.value=null:k.value=t.ue}const u=$(),d=C(()=>z.value.has(t.ue.url));function h(){z.value.add(t.ue.url),a(),w.value={entry:t.ue,index:t.index,elem:u.value}}function v(f){f.button!==1||document.getRootNode().activeElement!==f.currentTarget||h()}function g(){z.value.delete(t.ue.url)}const D=C(()=>{const f=w.value;return f?t.index===f.index&&t.ue.isEquals(f.entry):!1});Dt(()=>{D.value&&(w.value=null)});const L=new Be(n);function j(){L.forceTrigger()}const V=ee(j,2e3),St=C(()=>{let f="";return n.value<0?f="never clicked":f=ct(n.value),t.ue.initialVisited&&t.ue.initialVisited!==n.value?`${f}
${ct(t.ue.initialVisited)}`:f});function ct(f){return se(f)+" — "+Vt(f,"YYYY.MM.DD HH:mm:SS",!1)}const Et=C(()=>Ut(n.value));function Ut(f){if(f<0)return"never-clicked";const O=Date.now(),y=Math.trunc((O-f)/1e3);return y<60?"minute-1":y<60*2?"minute-2":y<60*5?"minute-5":y<60*10?"minute-10":y<60*30?"minute-30":y<60*45?"minute-45":y<60*60?"minute-60":y<3600*2?"hour-2":y<3600*4?"hour-4":y<3600*8?"hour-8":y<3600*14?"hour-14":y<3600*24?"day-1":y<86400*7?"day-7":y<86400*30?"month-1":y<2592e3*3?"month-3":y<2592e3*6?"month-6":"long-ago"}return(f,O)=>(p(),_("tr",{onPointerenter:O[0]||(O[0]=(...y)=>m(V)&&m(V)(...y)),"data-index":f.index,class:X([{clicked:d.value,"last-clicked":D.value},"list-item-row"]),"data-comp":"UrlListItem",ref_key:"htmlCompRef",ref:u},[o("td",Qe,[o("span",Ze,[o("span",{class:X(["info-dot",{"has-comment":f.ue.inputComment,visited:n.value>0,[Et.value]:!0}]),title:St.value,onContextmenu:Ot(g,["prevent"]),onPointerdown:i},null,42,tn),o("a",{class:"url link-primary",target:"_blank",rel:"noreferrer noopener",href:f.ue.url,title:f.ue.inputComment,onClick:h,onPointerup:v},b(f.ue.url),41,en)]),U(Ge,{class:"tags",ue:f.ue},null,8,["ue"])]),o("td",{class:X(["col-3 comment nowrap-text-ceil",{[c.value]:c.value}]),onDblclick:l},[o("span",nn,b(r.value||" "),1)],34)],42,ze))}}),on=x(sn,[["__scopeId","data-v-2842311d"]]),an={"data-comp":"UrlList"},rn={class:"table table-borderless"},ln=T({__name:"UrlList",setup(e){return(t,n)=>(p(),_("div",an,[o("table",rn,[o("tbody",null,[(p(!0),_(Y,null,Q(m(xt),(s,a)=>(p(),P(on,{ue:s,index:a,key:a+s.url},null,8,["ue","index"]))),128))])])]))}}),cn={class:"popup-content"},un={class:"modal-content"},dn={class:"modal-header"},pn={class:"modal-title"},fn={class:"modal-body"},mn=["value"],hn=T({__name:"MessageEditPopup",setup(e){const t=C(()=>{const l=k.value;return l.comment===void 0?l.inputComment:l.comment});function n(l){l.currentTarget===l.target&&(k.value=null)}function s(l){l.key==="Enter"&&!l.shiftKey&&(l.preventDefault(),k.value=null)}const a=$(null);$t(()=>{a.value?.focus()});function c(l){const u=l.currentTarget.value;k.value?.setComment(u)}function r(){k.value?.delComment()}return(l,u)=>(p(),P(it,{to:"body"},[m(k)?(p(),_("div",{key:0,class:"modal message-edit-popup","data-comp":"MessageEditPopup",onPointerdown:n},[o("div",cn,[o("div",un,[o("div",dn,[o("h5",pn,b(m(k).url),1),o("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:n})]),o("div",fn,[o("textarea",{rows:"5",value:t.value,onInput:c,ref_key:"textareaElem",ref:a,onKeydown:s},null,40,mn)]),o("div",{class:"modal-footer"},[o("button",{type:"button",class:"btn btn-secondary",onClick:r},"Reset")])])])],32)):E("",!0)]))}}),_n=x(hn,[["__scopeId","data-v-8cf09f2d"]]),gn={class:"selected-tags","data-comp":"SelectedTags"},vn=["data-tag"],yn={class:"input-wrapper"},Cn=["value"],$n=T({__name:"SelectedTags",props:{entry:{},modelValue:{}},emits:["update:modelValue","tabPressed"],setup(e,{emit:t}){const n=e,s=t;function a(g){const L=g.target.dataset.tag;L&&n.entry?.delTag(L)}const i=$(null),r=document.createElement("canvas").getContext("2d");$t(()=>{i.value&&(r.font=window.getComputedStyle(i.value).font)});function l(){if(!i.value)return;const g=r.measureText(i.value.value).width;i.value.style.width=g+6+"px"}function u(){i.value&&(i.value.selectionStart=i.value.selectionEnd,i.value.focus())}function d(){i.value?.select()}function h(g){s("update:modelValue",g.target.value)}function v(g){console.log(g),g.code==="Tab"&&(g.preventDefault(),s("tabPressed"))}return(g,D)=>(p(),_("div",gn,[o("div",{class:"tag-master",onClick:a},[(p(!0),_(Y,null,Q(g.entry.tags,L=>(p(),_("div",{class:"tag","data-tag":L},b(L),9,vn))),256))]),o("span",{class:"label",onDblclick:d,onClick:u},[o("span",yn,[o("input",Rt({type:"text",ref_key:"tagInput",ref:i,value:g.modelValue},At({input:[l,h]},!0),{onKeydown:v}),null,16,Cn)])],32)]))}}),bn=x($n,[["__scopeId","data-v-9d97319f"]]),Tn=["data-tag"],wn=T({__name:"SuggestedTag",props:{tagWrap:{}},setup(e){const t=e,{entry:n,tag:s}=t.tagWrap,a=C(()=>!!n.tags?.includes(s));function i(){a.value?n.delTag(s):n.addTag(s)}return(c,r)=>(p(),_("div",{class:X(["tag",{selected:a.value}]),onClick:i,"data-tag":c.tagWrap.tag,"data-comp":"SuggestedTag"},b(c.tagWrap.tag),11,Tn))}}),In=x(wn,[["__scopeId","data-v-40287b21"]]);function kn(){return JSON.parse(localStorage.getItem("href_lister_all_tags")||"[]")}const xn=$(kn()),Ln={class:"popup-content"},Sn={class:"modal-content"},En={class:"modal-header"},Un={class:"modal-title"},Mn={class:"modal-body"},Pn={class:"tags selected-tags-group"},Dn={class:"tags all-tags-group"},Vn={class:"tag-master"},On=T({__name:"UrlListItemTagsEditPopup",setup(e){const t=$(""),n=S,s=C(()=>xn.value.map(r=>({tag:r,entry:n.value}))),a=C(()=>{const r=[],l=[];for(const u of s.value){const d=u.tag.indexOf(t.value);d!==-1&&(d===0?r.push(u):l.push(u))}return[r,l].flat()});function i(){t.value=""}function c(r){r.currentTarget===r.target&&(S.value=null)}return(r,l)=>(p(),P(it,{to:"body"},[m(S)?(p(),_("div",{key:0,class:"modal tags-edit-popup",onPointerdown:c,"data-comp":"URLsInfoLine"},[o("div",Ln,[o("div",Sn,[o("div",En,[o("h5",Un,b(m(S).url),1)]),o("div",Mn,[o("div",Pn,[U(bn,{entry:m(S),modelValue:t.value,"onUpdate:modelValue":l[0]||(l[0]=u=>t.value=u),onTabPressed:i},null,8,["entry","modelValue"])]),o("div",Dn,[o("div",Vn,[(p(!0),_(Y,null,Q(a.value,u=>(p(),P(In,{"tag-wrap":u},null,8,["tag-wrap"]))),256))])])])])])],32)):E("",!0)]))}}),Rn=x(On,[["__scopeId","data-v-a644881d"]]),An={"data-comp":"Main"},qn=o("hr",null,null,-1),Nn=o("hr",null,null,-1),Bn=o("hr",null,null,-1),jn=o("hr",null,null,-1),Fn=T({__name:"Main",setup(e){return(t,n)=>(p(),_("div",An,[qn,U(Gt),Nn,U(he),Bn,U(Pe),U(qe),jn,U(ln),m(k)?(p(),P(_n,{key:0})):E("",!0),m(S)?(p(),P(Rn,{key:1})):E("",!0)]))}}),Hn=e=>(q("data-v-80fad6c5"),e=e(),N(),e),Wn=Hn(()=>o("a",{class:"readme",title:"Open Readme",href:"https://github.com/AlttiRi/href-lister#keeplister",target:"_blank"},[o("i",null,"i")],-1)),Yn=T({__name:"App",setup(e){return(t,n)=>(p(),_(Y,null,[U(Fn),Wn],64))}}),Xn=x(Yn,[["__scopeId","data-v-80fad6c5"]]);qt(Xn).mount("#app");
//# sourceMappingURL=index.js.map
