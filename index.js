import{r as y,c as C,d as L,o as m,a as v,b as n,w as J,v as K,u as d,i as X,p as G,e as Q,f as A,g as At,T as wt,h as kt,j as It,k as Lt,s as St,l as xt,t as z,m as mt,n as lt,q as Et,x as w,y as M,z as qt,A as dt,B as Y,C as Nt,D as Bt,E as vt,F as Z,G as it,H as jt,I as Ft,J as D,K as Ut,L as Wt,M as Ht,N as gt,O as Yt}from"./vendor.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function e(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(l){if(l.ep)return;l.ep=!0;const i=e(l);fetch(l.href,i)}})();const Mt={input_only:"",input_only_disabled:!1,input_ignore:"",input_ignore_disabled:!1,reverse_input_only:!1,case_sensitive:!1},et=y(Mt.input_only),st=y(Mt.input_ignore),Jt=C(()=>{let s=et.value.trim().split(/\s+/g).filter(l=>l),t=st.value.trim().split(/\s+/g).filter(l=>l);s=s.map(l=>l.toLowerCase()),t=t.map(l=>l.toLowerCase());let e,o;return e=l=>s.some(i=>l.toLowerCase().includes(i)),o=l=>t.some(i=>l.toLowerCase().includes(i)),{matchOnly:e,matchIgnore:o,onlyParts:s,ignoreParts:t}}),Kt=C(()=>{const{matchOnly:s,matchIgnore:t,onlyParts:e}=Jt.value;return e.length?o=>s(o):o=>!t(o)}),Pt=s=>(G("data-v-40d2bd48"),s=s(),Q(),s),Xt={class:"row row-cols-lg-3 g-3 align-items-center","data-comp":"Filters"},zt={class:"col-12"},Gt={class:"input-group"},Qt=Pt(()=>n("span",{class:"input-group-text"},"Only",-1)),Zt={class:"col-12"},te={class:"input-group"},ee=Pt(()=>n("span",{class:"input-group-text"},"Ignore",-1)),se=L({__name:"Filters",setup(s){return(t,e)=>(m(),v("div",Xt,[n("div",zt,[n("label",null,[n("span",Gt,[Qt,J(n("input",{type:"text",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=o=>X(et)?et.value=o:null)},null,512),[[K,d(et)]])])])]),n("div",Zt,[n("label",null,[n("span",te,[ee,J(n("input",{type:"text",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=o=>X(st)?st.value=o:null)},null,512),[[K,d(st)]])])])])]))}}),E=(s,t)=>{const e=s.__vccOpts||s;for(const[o,l]of t)e[o]=l;return e},ne=E(se,[["__scopeId","data-v-40d2bd48"]]),oe={};function ae(s,t){return m(),A(wt,{to:"body"},[At(s.$slots,"default")])}const yt=E(oe,[["render",ae]]),N={createStore:kt,del:It,get:Lt,set:St,entries:xt},nt=N.createStore("HrefListerUrlInfo","UrlInfo"),Dt=class H{constructor(t,e,o){this.url=t,this.state=e,o&&(this.inputComment=o),e.visited&&(this.initialVisited=e.visited)}static async getInstance({url:t,inputComment:e}){let o=H.stateMap.get(t);return o?new H(t,o,e):(o=await N.get(t,nt),o===void 0&&(o={}),H.stateMap.set(t,o),new H(t,o,e))}isEquals(t){return t?this.state===t.state&&this.inputComment===t.inputComment:!1}get comment(){return this.state.comment}get visited(){return this.state.visited}get tags(){return this.state.tags}async setComment(t){this.state.comment=t,await this.update()}async delComment(){delete this.state.comment,await this.update()}async setVisited(t){this.state.visited=t,await this.update()}async delVisited(){delete this.state.visited,await this.update()}async addTag(t){this.state.tags||(this.state.tags=[]),!this.state.tags.includes(t)&&(this.state.tags.push(t),await this.update())}async delTag(t){if(!this.state.tags)return;const e=this.state.tags.indexOf(t);e!=-1&&(this.state.tags.splice(e,1),this.state.tags.length===0&&delete this.state.tags,await this.update())}update(){return Object.keys(this.state).length?N.set(this.url,z(this.state),nt):N.del(this.url,nt)}};Dt.stateMap=new Map;let Ot=Dt;const le=N.createStore("HrefListerComments","Comments"),ie=N.createStore("HrefLister","Visits");Object.assign(globalThis,{idb:{createStore:kt,del:It,get:Lt,set:St,entries:xt,commentsStore:le,visitsStore:ie,urlInfoStore:nt},UrlEntry:Ot});function re(s){const t=s.split(`
`).map(o=>o.trim()).filter(o=>o),e=[];for(const o of t){const[l,...i]=o.split(/\s+(#|\/\/)/),[c,...a]=l.trim().split(/\s+/);if(c.startsWith("http")){const r=ut(c);if(r&&a.every(f=>!ut(f))){e.push({url:r,inputComment:[...a,...i].join(" ")});continue}r&&e.push({url:r})}else a.unshift(c);for(const r of a){const f=ut(r);f&&e.push({url:f})}}return e}function ut(s){const t=s.match(/(['"]?)(?<url>https?:\/\/[^\s"]+)(\1)/);if(console.log(t),t?.groups)return t.groups.url}const ce=-1,S=y(""),x=y(null),U=y(null),ot=y(new Set),B=y(!1),pt=y(!1);async function bt(){pt.value=!0,B.value&&(B.value=!1,await lt(),B.value=!0)}const q=y(!0),at=y(!0),k=y(null),Rt=y([]);mt(async()=>{const s=re(S.value),t=[];for(const e of s)t.push(await Ot.getInstance(e));Rt.value=t});const Vt=C(()=>Rt.value.filter(s=>Kt.value(s.url))),j=C(()=>Vt.value.map(s=>s.url));location.href==="http://localhost:5173/"&&(S.value=`http://localhost:5173/ asdf
http://localhost:5173/#qqq
http://localhost:5173/#qqq
http://localhost:5173/#www
`);function ue(s,t=50){let e=!1,o=!1,l,i;function c(){o?(setTimeout(c,t),s.apply(l,i)):e=!1,o=!1}return function(...a){e?(l=this,i=a,o=!0):(e=!0,setTimeout(c,t),s.apply(this,a))}}function de(s,t=100){const e=a=>`${a.length?'["'+a.join('", "')+'"]':"[]"}`;if(s.length<=t)return`/* ${s.length.toString().padStart(3)} */ ${e(s)},`;const o=a=>a.toString().length,l=Math.trunc(s.length/t),c=[`/* ${s.length.toString().padStart(1+o(s.length))+" ".repeat(3+o(l))} */`];for(let a=0;a<=l;a++){const r=s.slice(t*a,t+t*a),f=`(${a+1})`.padStart(2+o(l)),p=r.length.toString().padStart(1+o(s.length));c.push(`/* ${p} ${f} */ ${e(r)},`)}return c.join(`
`)}function pe(s){const t=Date.now(),e=Math.trunc((t-s)/1e3);if(e<60)return`${e} second${e>1?"s":""} ago`;if(e<60*60){const o=Math.trunc(e/60);return`${o} minute${o>1?"s":""} ago`}if(e<60*60*24){const o=Math.trunc(e/60%60).toString().padStart(2,"0");return`${Math.trunc(e/60/60)}:${o} ago`}return Math.trunc(e/60/60/24)+" days ago"}function fe(s){let t=0;for(let e=0;e<s.length;e++)t=Math.imul(Math.imul(31,t)+s.charCodeAt(e),1);return t}const $t=["1st","2nd","3rd"];function me(s){return s=Number(s),$t[s]?$t[s]:s+1+"th"}function _e(s,t){if(t.aborted)return Promise.resolve(t.reason);let e;return new Promise(o=>{e=setTimeout(o,s),t.onabort=()=>{clearTimeout(e),o(t.reason)}})}function he(s,t,e){const o=document.createElement("a");o.setAttribute("download",t||"");const l=URL.createObjectURL(s);o.href=l+(e?"#"+e:""),o.click(),setTimeout(()=>URL.revokeObjectURL(l),15e3)}globalThis.downloadBlob=he;const _t=s=>(G("data-v-f705f8cf"),s=s(),Q(),s),ve={class:"row row-cols-lg-3 g-3 align-items-end","data-comp":"InputControls"},ge={class:"input col-12"},ye=_t(()=>n("label",{for:"urls-textarea",class:"fuck-off-lighthouse"},null,-1)),be=["disabled"],$e={class:"input col-12"},Ce={class:"row"},Te={class:".col m-1"},we=_t(()=>n("span",{class:"btn-group"},[n("span",{class:"input-group-text me-2"},"Clipboard")],-1)),ke=["disabled"],Ie=["disabled"],Le={class:".col m-1"},Se=_t(()=>n("span",{class:"btn-group"},[n("span",{class:"input-group-text me-2 text-center"},"Controls")],-1)),xe=["disabled"],Ee=L({__name:"InputControls",setup(s){const t=new WeakMap;async function e(p){p.classList.add("btn-active");const _=lt(150);t.set(p,_),await _,t.get(p)===_&&p.classList.remove("btn-active")}const o=y(null);function l(p){S.value="",o.value?.focus(),e(p.currentTarget)}function i(p){navigator.clipboard.writeText(j.value.join(" ")),e(p.currentTarget)}function c(p){p.preventDefault(),navigator.clipboard.writeText(j.value.join(`
`)),e(p.currentTarget)}function a(p){p.button===1&&(p.preventDefault(),navigator.clipboard.writeText(de(j.value)),e(p.currentTarget))}async function r(p){const{currentTarget:_}=p,$=await navigator.clipboard.readText();console.log("[clipboard] readText:",$),S.value&&!S.value.endsWith(`
`)&&(S.value+=`
`),S.value+=$,e(_)}async function f(p){const{currentTarget:_}=p,$=await navigator.clipboard.readText();console.log("[clipboard] readText:",$),S.value=$,e(_)}return(p,_)=>(m(),v("div",ve,[n("div",ge,[ye,J(n("textarea",{id:"urls-textarea",spellcheck:"false","onUpdate:modelValue":_[0]||(_[0]=$=>X(S)?S.value=$:null),ref_key:"textareaEl",ref:o,disabled:!d(q)},null,8,be),[[K,d(S)]])]),n("div",$e,[n("span",Ce,[n("span",Te,[we,n("button",{class:"btn btn-outline-primary me-1",onClick:f,disabled:!d(q)},"Replace",8,ke),n("button",{class:"btn btn-outline-primary me-1",onClick:r,disabled:!(d(q)||d(at))},"Append",8,Ie)]),n("span",Le,[Se,n("button",{class:"btn btn-outline-danger me-1",onClick:l,disabled:!d(q)},"Clear",8,xe),n("button",{class:"btn btn-primary me-1",title:"Copy URLs",onClick:i,onContextmenu:c,onPointerdown:a},"Copy",32),n("button",{class:"btn btn-outline-primary me-1",title:"Toggle Auto Clicker Popup",onClick:_[1]||(_[1]=$=>B.value=!d(B)),onContextmenu:_[2]||(_[2]=Et((...$)=>d(bt)&&d(bt)(...$),["prevent"]))},"Auto Clicker",32)])])])]))}}),Ue=E(Ee,[["__scopeId","data-v-f705f8cf"]]),Ct=C(()=>{const s=[...new Set(j.value)].sort().join(" ");return Math.abs(fe(s)).toString(16).slice(-8).padStart(8,"0").toUpperCase()}),W=C(()=>{const s=j.value,t=s.length,e=new Set(s).size;return{count:t,uniqueCount:e}}),V=C(()=>{let s=0;const t=new Set;for(const e of j.value)ot.value.has(e)&&(s++,t.add(e));return{count:s,uniqueCount:t.size}}),F=s=>(G("data-v-456c13e6"),s=s(),Q(),s),Me={"data-comp":"URLsInfoLine"},Pe={title:"URLs count"},De={key:0,title:"URLs count (unique)"},Oe=F(()=>n("span",{class:"grey"}," — ",-1)),Re={title:"URLs hash"},Ve=F(()=>n("span",{class:"grey"},"#",-1)),Ae={class:"urls-hash"},qe={key:0},Ne=F(()=>n("span",{class:"grey"}," — ",-1)),Be=F(()=>n("span",{class:"grey"},"[",-1)),je={class:"clicked-count"},Fe={title:"Clicked URLs count"},We={key:0,title:"Clicked URLs count (unique)"},He=F(()=>n("span",{class:"grey"},"]",-1)),Ye=F(()=>n("span",{class:"grey"}," — ",-1)),Je=["title"],Ke=L({__name:"URLsInfoLine",setup(s){mt(()=>{const{count:i,uniqueCount:c}=W.value;if(!i){document.title="HrefLister";return}if(document.title=`HrefLister — ${t(i,c)} — #${Ct.value}`,V.value.count){const{count:a,uniqueCount:r}=V.value;document.title=`${document.title} — [ ${t(a,r)} ]`}});function t(i,c){let a=i.toString();return i!==c&&(a=`${a} (${c})`),a}async function e(){if(!k.value)return;const i=k.value.elem;i.scrollIntoView({block:"center"}),i.classList.add("highlighted-2"),await lt(800),i.classList.remove("highlighted-2")}function o(){k.value&&k.value.elem.classList.add("highlighted-1")}function l(){k.value&&k.value.elem.classList.remove("highlighted-1")}return(i,c)=>(m(),v("div",Me,[n("span",null,[n("span",Pe,w(d(W).count),1),d(W).count!==d(W).uniqueCount?(m(),v("span",De," ("+w(d(W).uniqueCount)+")",1)):M("",!0)]),Oe,n("span",Re,[Ve,n("span",Ae,w(d(Ct)),1)]),d(V).count?(m(),v("span",qe,[Ne,n("span",null,[Be,n("span",je,[n("span",Fe,w(d(V).count),1),d(V).count!==d(V).uniqueCount?(m(),v("span",We," ("+w(d(V).uniqueCount)+")",1)):M("",!0)]),He])])):M("",!0),d(k)?(m(),v("span",{key:1,onClick:e,onPointerenter:o,onPointerleave:l},[Ye,n("span",{class:"grey",title:`Last clicked URL index
`+d(k).entry.url},w(d(me)(d(k).index)),9,Je)],32)):M("",!0)]))}}),Xe=E(Ke,[["__scopeId","data-v-456c13e6"]]);function ze(s,t){for(const[e,o]of Object.entries(t))s.style[e]=o}function Ge(s,{handle:t,onStop:e,onMove:o,state:l}={}){const i=a=>{o?.(a),ze(s,a)};l&&(i(l),e?.(l));const c=t||s;c.style.userSelect="none",c.style.touchAction="none",s.style.position="absolute",c.addEventListener("pointerdown",a=>{a.preventDefault();const r=a.clientY-parseInt(getComputedStyle(s).top),f=a.clientX-parseInt(getComputedStyle(s).left);let p;function _(g){!c.hasPointerCapture(g.pointerId)&&c.setPointerCapture(g.pointerId),p={top:g.clientY-r+"px",left:g.clientX-f+"px"},i(p)}function $(){removeEventListener("pointermove",_),p&&e?.(p)}addEventListener("pointermove",_,{passive:!0}),addEventListener("pointerup",$,{once:!0})})}function Qe({id:s,onMove:t,onStop:e,reset:o,restore:l}){if(o&&s&&localStorage.removeItem(s),!l||!s)return{onMove:t,onStop:e};const i=localStorage.getItem(s);let c;i&&(c=JSON.parse(i));function a(f){localStorage.setItem(s,JSON.stringify(f))}let r;return e?r=function(f){e(f),a(f)}:r=a,{onMove:t,onStop:r,state:c}}const Ze={class:"popup-root","data-comp":"AutoClickPopup"},ts={class:"popup-content"},es={class:"btn-group p-1 container",role:"group","aria-label":"Basic example"},ss=["disabled"],ns=["disabled"],os=["disabled"],as={class:"div-wrap"},ls={class:"p-1 pt-0 col-12"},is={class:"input-group"},rs=n("span",{class:"input-group-text col-3"},"Delay",-1),cs={class:"div-wrap"},us={class:"p-1 pt-0 col-12"},ds={class:"input-group"},ps=n("span",{class:"input-group-text col-3"},"Count",-1),fs=L({__name:"AutoClickPopup",setup(s){const t=y(),e=y(),o=mt(()=>{if(!t.value||!e.value)return;const h=t.value,T=e.value;Ge(t.value,{handle:T,...Qe({restore:!0,id:"href-lister-popup-move-state",reset:pt.value})}),T.addEventListener("pointerdown",u=>{h.focus()},{passive:!0}),pt.value=!1,o()});function l(h,T){const u=localStorage.getItem(h),I=Nt(u?JSON.parse(u):T);return dt(I,()=>{localStorage.setItem(h,JSON.stringify(I))}),I}const{delay:i,count:c}=qt(l("href-lister-clicker-settings",{delay:1,count:0})),a=y("ready"),r=y(0);let f=new AbortController;dt(a,()=>{a.value==="ready"?at.value=q.value=!0:a.value==="started"?at.value=q.value=!1:a.value==="paused"&&(at.value=!0)});async function p(){console.log("startClicking");const h=[...document.querySelectorAll("a.url")],T=c.value===0?h.length:Math.min(h.length,c.value+r.value),u=T<h.length;for(a.value="started";r.value<T;){const I=h[r.value],b=I.closest('[data-comp="UrlListItem"]');if(b.classList.add("hover"),await _e(i.value*1e3,f.signal),b.classList.remove("hover"),a.value==="started")r.value++,I.dispatchEvent(new MouseEvent("click")),await lt();else if(a.value==="paused"){a.value="paused";return}else if(a.value==="stopped"){r.value=0,a.value="ready";return}}u?a.value="paused":(r.value=0,a.value="ready")}function _(h){r.value===0&&(h="stopped"),a.value=h,f.abort(h),f=new AbortController}function $(){if(a.value==="started"){_("stopped");return}r.value=0,a.value="ready"}const g=y(!1);let R=0;function P(){g.value=!0,setTimeout(()=>clearTimeout(R))}function rt(){R=setTimeout(()=>{g.value=!1},250)}let O;function ct(){if(k.value&&a.value!=="ready"){const h=k.value.elem.nextElementSibling;h&&(h.classList.add("highlighted-1"),O=h)}else{const h=document.querySelector('[data-comp="UrlListItem"]');h&&(h.classList.add("highlighted-1"),O=h)}}function tt(){O&&(O.classList.remove("highlighted-1"),O=null)}return(h,T)=>(m(),v("div",Ze,[n("div",{class:Y(["popup",{focus:g.value}]),tabindex:"-1",ref_key:"popupElem",ref:t,onFocusin:P,onFocusout:rt},[n("div",{class:"popup-header p-1",ref_key:"headerElem",ref:e},"Auto Clicker",512),n("div",ts,[n("div",es,[n("button",{class:"btn btn-primary col-4",onClick:p,onPointerenter:ct,onPointerleave:tt,disabled:!(a.value==="ready"||a.value==="paused")},w(a.value==="ready"||!r.value?"Start":"Next"),41,ss),n("button",{class:"btn btn-secondary col-4",disabled:a.value!=="started",onClick:T[0]||(T[0]=u=>_("paused"))},"Pause",8,ns),n("button",{class:"btn btn-secondary col-4",disabled:!r.value,onClick:$},w(a.value==="paused"?"Reset":"Stop"),9,os)]),n("div",as,[n("label",ls,[n("span",is,[rs,J(n("input",{title:"Click delay (seconds)",class:"form-control",type:"number","onUpdate:modelValue":T[1]||(T[1]=u=>X(i)?i.value=u:null)},null,512),[[K,d(i)]])])])]),n("div",cs,[n("label",us,[n("span",ds,[ps,J(n("input",{title:"Count",class:"form-control",type:"number","onUpdate:modelValue":T[2]||(T[2]=u=>X(c)?c.value=u:null)},null,512),[[K,d(c)]])])])])])],34)]))}}),ht=1e3*60,Tt=ht*10,ft=ht*60,ms=ft*24;class _s{constructor(t){this.timeRef=t,dt(t,e=>{e>0&&this.setTimer()}),Bt(()=>{this.clearTimer()})}setTimer(){this.clearTimer();const t=Date.now()-this.timeRef.value;let e;if(t<Tt)e=ht;else if(t<ft)e=Tt;else if(t<ms)e=ft;else return;this.timerId=setTimeout(()=>{vt(this.timeRef),this.setTimer()},e)}clearTimer(){clearTimeout(this.timerId)}forceTrigger(){vt(this.timeRef),this.setTimer()}}const hs=s=>(G("data-v-47825c5d"),s=s(),Q(),s),vs={class:"tags"},gs={class:"tag-master","data-comp":"EntryTags"},ys=["data-tag"],bs={key:0,class:"tag add-tag"},$s=hs(()=>n("span",{class:"plus"},"+",-1)),Cs=[$s],Ts=L({__name:"UrlListItemTags",props:{ue:{}},setup(s){const t=s;function e(){z(U.value)===z(t.ue)?U.value=null:U.value=t.ue,console.log(U.value)}return(o,l)=>(m(),v("div",{class:"tags-wrapper",onClick:e,"data-comp":"UrlListItemTags"},[n("div",vs,[n("div",gs,[(m(!0),v(Z,null,it(o.ue.tags,i=>(m(),v("div",{class:"tag","data-tag":i},w(i),9,ys))),256))])]),o.ue.tags?.length?M("",!0):(m(),v("div",bs,Cs))]))}}),ws=E(Ts,[["__scopeId","data-v-47825c5d"]]),ks=["data-index"],Is={class:"col-9 nowrap-text-ceil url url-cell"},Ls={class:"nowrap-text-ceil-content"},Ss=["title"],xs=["href","title"],Es={class:"comment-content nowrap-text-ceil-content no-dbl-click-select"},Us=L({__name:"UrlListItem",props:{ue:{},index:{}},setup(s){const t=s,e=C(()=>t.ue.visited||ce);function o(){t.ue.delVisited()}function l(){const u=Date.now();t.ue.setVisited(u)}function i(u){u.button===1&&(u.preventDefault(),o())}const c=C(()=>{if(t.ue.comment!==void 0){if(!t.ue.inputComment)return"comment-from-store";if(t.ue.comment!==t.ue.inputComment)return"comment-from-store-over"}return""}),a=C(()=>t.ue.comment!==void 0?t.ue.comment.trim():t.ue.inputComment);function r(){z(x.value)===z(t.ue)?x.value=null:x.value=t.ue}const f=y(),p=C(()=>ot.value.has(t.ue.url));function _(){ot.value.add(t.ue.url),l(),k.value={entry:t.ue,index:t.index,elem:f.value}}function $(u){u.button!==1||document.getRootNode().activeElement!==u.currentTarget||_()}function g(){ot.value.delete(t.ue.url)}const R=C(()=>{const u=k.value;return u?t.index===u.index&&t.ue.isEquals(u.entry):!1});jt(()=>{R.value&&(k.value=null)});const P=new _s(e);function rt(){P.forceTrigger()}const O=ue(rt,2e3),ct=C(()=>{let u;return e.value<0?u="never clicked":u=tt(e.value),t.ue.initialVisited&&t.ue.initialVisited!==e.value?`${u}
${tt(t.ue.initialVisited)}`:u});function tt(u){return pe(u)+" — "+Ft(u,"YYYY.MM.DD HH:mm:SS",!1)}const h=C(()=>T(e.value));function T(u){if(u<0)return"never-clicked";const I=Date.now(),b=Math.trunc((I-u)/1e3);return b<60?"minute-1":b<60*2?"minute-2":b<60*5?"minute-5":b<60*10?"minute-10":b<60*30?"minute-30":b<60*45?"minute-45":b<60*60?"minute-60":b<3600*2?"hour-2":b<3600*4?"hour-4":b<3600*8?"hour-8":b<3600*14?"hour-14":b<3600*24?"day-1":b<86400*7?"day-7":b<86400*30?"month-1":b<2592e3*3?"month-3":b<2592e3*6?"month-6":"long-ago"}return(u,I)=>(m(),v("tr",{onPointerenter:I[0]||(I[0]=(...b)=>d(O)&&d(O)(...b)),"data-index":u.index,class:Y([{clicked:p.value,"last-clicked":R.value},"list-item-row"]),"data-comp":"UrlListItem",ref_key:"htmlCompRef",ref:f},[n("td",Is,[n("span",Ls,[n("span",{class:Y(["info-dot",{"has-comment":u.ue.inputComment,visited:e.value>0,[h.value]:!0}]),title:ct.value,onContextmenu:Et(g,["prevent"]),onPointerdown:i},null,42,Ss),n("a",{class:"url link-primary",target:"_blank",rel:"noreferrer noopener",href:u.ue.url,title:u.ue.inputComment,onClick:_,onPointerup:$},w(u.ue.url),41,xs)]),D(ws,{class:"tags",ue:u.ue},null,8,["ue"])]),n("td",{class:Y(["col-3 comment nowrap-text-ceil",{[c.value]:c.value}]),onDblclick:r},[n("span",Es,w(a.value||" "),1)],34)],42,ks))}}),Ms=E(Us,[["__scopeId","data-v-195280ad"]]),Ps={"data-comp":"UrlList"},Ds={class:"table table-borderless"},Os=L({__name:"UrlList",setup(s){return(t,e)=>(m(),v("div",Ps,[n("table",Ds,[n("tbody",null,[(m(!0),v(Z,null,it(d(Vt),(o,l)=>(m(),A(Ms,{ue:o,index:l,key:l+o.url},null,8,["ue","index"]))),128))])])]))}}),Rs={class:"popup-content"},Vs={class:"modal-content"},As={class:"modal-header"},qs={class:"modal-title"},Ns={class:"modal-body"},Bs=["value"],js=L({__name:"MessageEditPopup",setup(s){const t=C(()=>{const r=x.value;return r.comment===void 0?r.inputComment:r.comment});function e(r){r.currentTarget===r.target&&(x.value=null)}function o(r){r.key==="Enter"&&!r.shiftKey&&(r.preventDefault(),x.value=null)}const l=y(null);Ut(()=>{l.value?.focus()});function c(r){const f=r.currentTarget.value;x.value?.setComment(f)}function a(){x.value?.delComment()}return(r,f)=>d(x)?(m(),v("div",{key:0,class:"modal message-edit-popup","data-comp":"MessageEditPopup",onPointerdown:e},[n("div",Rs,[n("div",Vs,[n("div",As,[n("h5",qs,w(d(x).url),1),n("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:e})]),n("div",Ns,[n("textarea",{rows:"5",value:t.value,onInput:c,ref_key:"textareaElem",ref:l,onKeydown:o},null,40,Bs)]),n("div",{class:"modal-footer"},[n("button",{type:"button",class:"btn btn-secondary",onClick:a},"Reset")])])])],32)):M("",!0)}}),Fs=E(js,[["__scopeId","data-v-29a45c96"]]),Ws={class:"selected-tags","data-comp":"SelectedTags"},Hs=["data-tag"],Ys={class:"input-wrapper"},Js=["value"],Ks=L({__name:"SelectedTags",props:{entry:{},modelValue:{}},emits:["update:modelValue","tabPressed"],setup(s,{emit:t}){const e=s,o=t;function l(g){const P=g.target.dataset.tag;P&&e.entry?.delTag(P)}const i=y(null),a=document.createElement("canvas").getContext("2d");Ut(()=>{i.value&&(a.font=window.getComputedStyle(i.value).font)});function r(){if(!i.value)return;const g=a.measureText(i.value.value).width;i.value.style.width=g+6+"px"}function f(){i.value&&(i.value.selectionStart=i.value.selectionEnd,i.value.focus())}function p(){i.value?.select()}function _(g){o("update:modelValue",g.target.value)}function $(g){console.log(g),g.code==="Tab"&&(g.preventDefault(),o("tabPressed"))}return(g,R)=>(m(),v("div",Ws,[n("div",{class:"tag-master",onClick:l},[(m(!0),v(Z,null,it(g.entry.tags,P=>(m(),v("div",{class:"tag","data-tag":P},w(P),9,Hs))),256))]),n("span",{class:"label",onDblclick:p,onClick:f},[n("span",Ys,[n("input",Wt({type:"text",ref_key:"tagInput",ref:i,value:g.modelValue},Ht({input:[r,_]},!0),{onKeydown:$}),null,16,Js)])],32)]))}}),Xs=E(Ks,[["__scopeId","data-v-9d97319f"]]),zs=["data-tag"],Gs=L({__name:"SuggestedTag",props:{tagWrap:{}},setup(s){const t=s,{entry:e,tag:o}=t.tagWrap,l=C(()=>!!e.tags?.includes(o));function i(){l.value?e.delTag(o):e.addTag(o)}return(c,a)=>(m(),v("div",{class:Y(["tag",{selected:l.value}]),onClick:i,"data-tag":c.tagWrap.tag,"data-comp":"SuggestedTag"},w(c.tagWrap.tag),11,zs))}}),Qs=E(Gs,[["__scopeId","data-v-40287b21"]]);function Zs(){return JSON.parse(localStorage.getItem("href_lister_all_tags")||"[]")}const tn=y(Zs()),en={class:"popup-content"},sn={class:"modal-content"},nn={class:"modal-header"},on={class:"modal-title"},an={class:"modal-body"},ln={class:"tags selected-tags-group"},rn={class:"tags all-tags-group"},cn={class:"tag-master"},un=L({__name:"UrlEntryTagsEditPopup",setup(s){const t=y(""),e=U,o=C(()=>tn.value.map(a=>({tag:a,entry:e.value}))),l=C(()=>{const a=[],r=[];for(const f of o.value){const p=f.tag.indexOf(t.value);p!==-1&&(p===0?a.push(f):r.push(f))}return[a,r].flat()});function i(){t.value=""}function c(a){a.currentTarget===a.target&&(U.value=null)}return(a,r)=>(m(),A(wt,{to:"body"},[d(U)?(m(),v("div",{key:0,class:"modal tags-edit-popup",onPointerdown:c,"data-comp":"URLsInfoLine"},[n("div",en,[n("div",sn,[n("div",nn,[n("h5",on,w(d(U).url),1)]),n("div",an,[n("div",ln,[D(Xs,{entry:d(U),modelValue:t.value,"onUpdate:modelValue":r[0]||(r[0]=f=>t.value=f),onTabPressed:i},null,8,["entry","modelValue"])]),n("div",rn,[n("div",cn,[(m(!0),v(Z,null,it(l.value,f=>(m(),A(Qs,{"tag-wrap":f},null,8,["tag-wrap"]))),256))])])])])])],32)):M("",!0)]))}}),dn=E(un,[["__scopeId","data-v-b9b3916d"]]),pn={"data-comp":"Main"},fn=n("hr",null,null,-1),mn=n("hr",null,null,-1),_n=n("hr",null,null,-1),hn=n("hr",null,null,-1),vn=L({__name:"Main",setup(s){return(t,e)=>(m(),v("div",pn,[fn,D(ne),mn,D(Ue),_n,D(Xe),hn,D(Os),d(U)?(m(),A(dn,{key:0})):M("",!0),d(x)?(m(),A(yt,{key:1},{default:gt(()=>[D(Fs)]),_:1})):M("",!0),d(B)?(m(),A(yt,{key:2},{default:gt(()=>[D(fs)]),_:1})):M("",!0)]))}}),gn=s=>(G("data-v-80fad6c5"),s=s(),Q(),s),yn=gn(()=>n("a",{class:"readme",title:"Open Readme",href:"https://github.com/AlttiRi/href-lister#keeplister",target:"_blank"},[n("i",null,"i")],-1)),bn=L({__name:"App",setup(s){return(t,e)=>(m(),v(Z,null,[D(vn),yn],64))}}),$n=E(bn,[["__scopeId","data-v-80fad6c5"]]);Yt($n).mount("#app");
//# sourceMappingURL=index.js.map
