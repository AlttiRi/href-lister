import{r as T,c as $,d as x,o as g,a as y,b as a,w as R,v as W,u as b,i as Y,p as E,e as O,s as q,f as F,g as H,h as K,j as G,n as U,k as J,t as Q,l as X,m as Z,q as z,F as L,x as tt,y as M,z as et}from"./vendor.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const i of e)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(e){const i={};return e.integrity&&(i.integrity=e.integrity),e.referrerPolicy&&(i.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?i.credentials="include":e.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(e){if(e.ep)return;e.ep=!0;const i=n(e);fetch(e.href,i)}})();const h=T(""),P=$(()=>nt(h.value)),D=$(()=>P.value.map(t=>t.url));function nt(t){const r=t.split(`
`).map(o=>o.trim()).filter(o=>o),n=[];for(const o of r){const[e,...i]=o.split(/\s+(#|\/\/)/),[l,...c]=e.trim().split(/\s+/);if(l.startsWith("http")){const d=I(l);if(d&&c.every(m=>!I(m))){n.push({url:d,comment:[...c,...i].join(" ")});continue}d&&n.push({url:d})}else c.unshift(l);for(const d of c){const m=I(d);m&&n.push({url:m})}}return n}function I(t){const r=t.match(/(['"]?)(?<url>https?:\/\/[^\s"]+)(\1)/);if(console.log(r),r!=null&&r.groups)return r.groups.url}function ot(t,r=100){const n=c=>`${c.length?'["'+c.join('", "')+'"]':"[]"}`;if(t.length<=r)return`/* ${t.length.toString().padStart(3)} */ ${n(t)},`;const o=c=>c.toString().length,e=Math.trunc(t.length/r),l=[`/* ${t.length.toString().padStart(1+o(t.length))+" ".repeat(3+o(e))} */`];for(let c=0;c<=e;c++){const d=t.slice(r*c,r+r*c),m=`(${c+1})`.padStart(2+o(e)),s=d.length.toString().padStart(1+o(t.length));l.push(`/* ${s} ${m} */ ${n(d)},`)}return l.join(`
`)}const k=t=>(E("data-v-f9a7f093"),t=t(),O(),t),rt={class:"row row-cols-lg-3 g-3 align-items-end"},st={class:"input col-12"},at=k(()=>a("label",{for:"urls-textarea",class:"fuck-off-lighthouse"},null,-1)),it={class:"input col-12"},ct={class:"row"},lt=k(()=>a("span",{class:"btn-group"},[a("span",{class:"input-group-text me-2"},"Clipboard")],-1)),ut={class:".col m-1"},pt=k(()=>a("span",{class:"btn-group"},[a("span",{class:"input-group-text me-2 text-center"},"Controls")],-1)),dt=x({__name:"InputControls",setup(t){const r=new WeakMap;async function n(s){s.classList.add("btn-active");const u=q(150);r.set(s,u),await u,r.get(s)===u&&s.classList.remove("btn-active")}const o=T(null);function e(s){var u;h.value="",(u=o.value)==null||u.focus(),n(s.currentTarget)}function i(s){navigator.clipboard.writeText(D.value.join(" ")),n(s.currentTarget)}function l(s){s.preventDefault(),navigator.clipboard.writeText(D.value.join(`
`)),n(s.currentTarget)}function c(s){s.button===1&&(s.preventDefault(),navigator.clipboard.writeText(ot(D.value)),n(s.currentTarget))}async function d(s){const{currentTarget:u}=s,v=await navigator.clipboard.readText();console.log("[clipboard] readText:",v),h.value&&!h.value.endsWith(`
`)&&(h.value+=`
`),h.value+=v,n(u)}async function m(s){const{currentTarget:u}=s,v=await navigator.clipboard.readText();console.log("[clipboard] readText:",v),h.value=v,n(u)}return(s,u)=>(g(),y("div",rt,[a("div",st,[at,R(a("textarea",{id:"urls-textarea",spellcheck:"false","onUpdate:modelValue":u[0]||(u[0]=v=>Y(h)?h.value=v:null),ref_key:"textareaEl",ref:o},null,512),[[W,b(h)]])]),a("div",it,[a("span",ct,[a("span",{class:".col m-1"},[lt,a("button",{class:"btn btn-outline-primary me-1",onClick:m},"Replace"),a("button",{class:"btn btn-outline-primary me-1",onClick:d},"Append")]),a("span",ut,[pt,a("button",{class:"btn btn-outline-primary me-1",onClick:e},"Clear"),a("button",{class:"btn btn-primary me-1",title:"Copy URLs",onClick:i,onContextmenu:l,onPointerdown:c},"Copy",32)])])])]))}});const S=(t,r)=>{const n=t.__vccOpts||t;for(const[o,e]of r)n[o]=e;return n},ft=S(dt,[["__scopeId","data-v-f9a7f093"]]);function _t(t,r=50){let n=!1,o=!1,e,i;return function(...l){n?(e=this,i=l,o=!0):(n=!0,setTimeout(function(){o&&t.apply(e,i),n=o=!1},r),t.apply(this,l))}}const mt=["title","onContextmenu"],ht=["href","title"],vt=x({__name:"UrlListItem",props:{ue:null},setup(t){const n=t.ue.url,o=F("HrefLister","Visits"),e=T(-1);H(async()=>{e.value=await m()||-2,console.log(e.value)});const i=$(l);function l(){return e.value<0?"never clicked":u(e.value)}const c=$(()=>{if(e.value<0)return"never-clicked";const f=Date.now(),p=Math.trunc((f-e.value)/1e3);return p<60?"minute-1":p<60*2?"minute-2":p<60*5?"minute-5":p<60*10?"minute-10":p<60*30?"minute-30":p<60*60?"hour-1":p<60*60*2?"hour-2":p<60*60*24?"day-1":"day-n"});async function d(){const f=Date.now();await X(n,f,o),e.value=f}function m(){return K(n,o)}async function s(){await Z(n,o),e.value=-2}function u(f){return G(f,"YYYY.MM.DD HH:mm:SS",!1)+" â€” "+v(f)}function v(f){const p=Date.now(),_=Math.trunc((p-f)/1e3);if(_<60)return`${_} second${_>1?"s":""} ago`;if(_<60*60){const C=Math.trunc(_/60);return`${C} minute${C>1?"s":""} ago`}if(_<60*60*24){const C=Math.trunc(_/60%60).toString().padStart(2,"0");return`${Math.trunc(_/60/60)}:${C} ago`}return Math.trunc(_/60/60/24)+" days ago"}const w=T(!1);function N(){w.value=!0,d()}function V(){w.value=!w.value}const A=_t(B,1e3);function B(){z(e)}function j(f){f.button===1&&(f.preventDefault(),s())}return(f,p)=>(g(),y("td",{class:U({clicked:w.value}),onPointerenter:p[0]||(p[0]=(..._)=>b(A)&&b(A)(..._))},[a("span",{class:U(["info-dot",{["has-comment"]:t.ue.comment,visited:e.value>0,[b(c)]:!0}]),title:b(i),onContextmenu:J(V,["prevent"]),onPointerdown:j},null,42,mt),a("a",{class:"url link-primary",target:"_blank",rel:"noreferrer noopener",href:t.ue.url,title:t.ue.comment,onClick:N},Q(t.ue.url),9,ht)],34))}});const gt=S(vt,[["__scopeId","data-v-fc75810a"]]),yt={class:"table table-borderless"},bt=x({__name:"UrlList",setup(t){return(r,n)=>(g(),y("div",null,[a("table",yt,[a("tbody",null,[(g(!0),y(L,null,tt(b(P),o=>(g(),y("tr",{key:o.url},[M(gt,{ue:o},null,8,["ue"])]))),128))])])]))}}),xt=a("hr",null,null,-1),wt=a("hr",null,null,-1),Ct=x({__name:"Main",setup(t){return(r,n)=>(g(),y(L,null,[xt,M(ft),wt,M(bt)],64))}}),Tt=t=>(E("data-v-c9a0b7c1"),t=t(),O(),t),$t=Tt(()=>a("a",{class:"readme",title:"Open Readme",href:"https://github.com/AlttiRi/href-lister#keeplister",target:"_blank"},[a("i",null,"i")],-1)),Mt=x({__name:"App",setup(t){return(r,n)=>(g(),y(L,null,[M(Ct),$t],64))}});const Dt=S(Mt,[["__scopeId","data-v-c9a0b7c1"]]);et(Dt).mount("#app");
//# sourceMappingURL=index.js.map
