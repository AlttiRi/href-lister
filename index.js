import{r as w,c as T,d as y,o as g,a as b,b as a,w as j,v as R,u as $,i as W,p as U,e as O,s as Y,f as F,g as H,h as q,j as K,n as A,k as G,t as J,l as Q,m as X,q as Z,F as L,x as z,y as M,z as tt}from"./vendor.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const i of e)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function o(e){const i={};return e.integrity&&(i.integrity=e.integrity),e.referrerPolicy&&(i.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?i.credentials="include":e.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(e){if(e.ep)return;e.ep=!0;const i=o(e);fetch(e.href,i)}})();const m=w(""),E=T(()=>et(m.value)),D=T(()=>E.value.map(t=>t.url));function et(t){const n=t.split(`
`).map(r=>r.trim()).filter(r=>r),o=[];for(const r of n){const[e,...i]=r.split(/\s+(#|\/\/)/),[u,...c]=e.trim().split(/\s+/);if(u.startsWith("http")){const p=I(u);if(p&&c.every(f=>!I(f))){o.push({url:p,comment:[...c,...i].join(" ")});continue}p&&o.push({url:p})}else c.unshift(u);for(const p of c){const f=I(p);f&&o.push({url:f})}}return o}function I(t){const n=t.match(/(['"]?)(?<url>https?:\/\/[^\s"]+)(\1)/);if(console.log(n),n!=null&&n.groups)return n.groups.url}function nt(t,n=100){const o=c=>`${c.length?'["'+c.join('", "')+'"]':"[]"}`;if(t.length<=n)return`/* ${t.length.toString().padStart(3)} */ ${o(t)},`;const r=c=>c.toString().length,e=Math.trunc(t.length/n),u=[`/* ${t.length.toString().padStart(1+r(t.length))+" ".repeat(3+r(e))} */`];for(let c=0;c<=e;c++){const p=t.slice(n*c,n+n*c),f=`(${c+1})`.padStart(2+r(e)),s=p.length.toString().padStart(1+r(t.length));u.push(`/* ${s} ${f} */ ${o(p)},`)}return u.join(`
`)}const k=t=>(U("data-v-f9a7f093"),t=t(),O(),t),ot={class:"row row-cols-lg-3 g-3 align-items-end"},rt={class:"input col-12"},st=k(()=>a("label",{for:"urls-textarea",class:"fuck-off-lighthouse"},null,-1)),at={class:"input col-12"},ct={class:"row"},it=k(()=>a("span",{class:"btn-group"},[a("span",{class:"input-group-text me-2"},"Clipboard")],-1)),lt={class:".col m-1"},ut=k(()=>a("span",{class:"btn-group"},[a("span",{class:"input-group-text me-2 text-center"},"Controls")],-1)),pt=y({__name:"InputControls",setup(t){const n=new WeakMap;async function o(s){s.classList.add("btn-active");const l=Y(150);n.set(s,l),await l,n.get(s)===l&&s.classList.remove("btn-active")}const r=w(null);function e(s){var l;m.value="",(l=r.value)==null||l.focus(),o(s.currentTarget)}function i(s){navigator.clipboard.writeText(D.value.join(" ")),o(s.currentTarget)}function u(s){s.preventDefault(),navigator.clipboard.writeText(D.value.join(`
`)),o(s.currentTarget)}function c(s){s.button===1&&(s.preventDefault(),navigator.clipboard.writeText(nt(D.value)),o(s.currentTarget))}async function p(s){const{currentTarget:l}=s,h=await navigator.clipboard.readText();console.log("[clipboard] readText:",h),m.value&&!m.value.endsWith(`
`)&&(m.value+=`
`),m.value+=h,o(l)}async function f(s){const{currentTarget:l}=s,h=await navigator.clipboard.readText();console.log("[clipboard] readText:",h),m.value=h,o(l)}return(s,l)=>(g(),b("div",ot,[a("div",rt,[st,j(a("textarea",{id:"urls-textarea",spellcheck:"false","onUpdate:modelValue":l[0]||(l[0]=h=>W(m)?m.value=h:null),ref_key:"textareaEl",ref:r},null,512),[[R,$(m)]])]),a("div",at,[a("span",ct,[a("span",{class:".col m-1"},[it,a("button",{class:"btn btn-outline-primary me-1",onClick:f},"Replace"),a("button",{class:"btn btn-outline-primary me-1",onClick:p},"Append")]),a("span",lt,[ut,a("button",{class:"btn btn-outline-primary me-1",onClick:e},"Clear"),a("button",{class:"btn btn-primary me-1",title:"Copy URLs",onClick:i,onContextmenu:u,onPointerdown:c},"Copy",32)])])])]))}});const S=(t,n)=>{const o=t.__vccOpts||t;for(const[r,e]of n)o[r]=e;return o},dt=S(pt,[["__scopeId","data-v-f9a7f093"]]),ft=["title","onContextmenu"],_t=["href","title"],mt=y({__name:"UrlListItem",props:{ue:null},setup(t){const o=t.ue.url,r=F("HrefLister","Visits"),e=w(-1);H(async()=>{e.value=await f()||-2,console.log(e.value)});const i=T(u);function u(){return e.value<0?"never clicked":l(e.value)}const c=T(()=>{if(e.value<0)return"never-clicked";const d=Date.now(),_=Math.trunc((d-e.value)/1e3);return _<60?"minute-1":_<60*5?"minute-5":_<60*30?"minute-30":_<60*60?"hour-1":_<60*60*2?"hour-2":_<60*60*24?"day-1":"day-n"});async function p(){const d=Date.now();await X(o,d,r),e.value=d}function f(){return q(o,r)}async function s(){await Z(o,r),e.value=-2}function l(d){return K(d,"YYYY.MM.DD HH:mm:SS",!1)+" â€” "+h(d)}function h(d){const _=Date.now(),v=Math.trunc((_-d)/1e3);if(v<60)return`${v} second${v>1?"s":""} ago`;if(v<60*60){const C=Math.trunc(v/60);return`${C} minute${C>1?"s":""} ago`}if(v<60*60*24){const C=Math.trunc(v/60%60).toString().padStart(2,"0");return`${Math.trunc(v/60/60)}:${C} ago`}return Math.trunc(v/60/60/24)+" days ago"}const x=w(!1);function P(){x.value=!0,p()}function N(){x.value=!x.value}function V(){Q(e)}function B(d){d.button===1&&(d.preventDefault(),s())}return(d,_)=>(g(),b("td",{class:A({clicked:x.value})},[a("span",{class:A(["info-dot",{["has-comment"]:t.ue.comment,visited:e.value>0,[$(c)]:!0}]),title:$(i),onContextmenu:G(N,["prevent"]),onPointerenter:V,onPointerdown:B},null,42,ft),a("a",{class:"url link-primary",target:"_blank",rel:"noreferrer noopener",href:t.ue.url,title:t.ue.comment,onClick:P},J(t.ue.url),9,_t)],2))}});const ht=S(mt,[["__scopeId","data-v-06f2e790"]]),vt={class:"table table-borderless"},gt=y({__name:"UrlList",setup(t){return(n,o)=>(g(),b("div",null,[a("table",vt,[a("tbody",null,[(g(!0),b(L,null,z($(E),r=>(g(),b("tr",{key:r.url},[M(ht,{ue:r},null,8,["ue"])]))),128))])])]))}}),bt=a("hr",null,null,-1),yt=a("hr",null,null,-1),xt=y({__name:"Main",setup(t){return(n,o)=>(g(),b(L,null,[bt,M(dt),yt,M(gt)],64))}}),Ct=t=>(U("data-v-c9a0b7c1"),t=t(),O(),t),wt=Ct(()=>a("a",{class:"readme",title:"Open Readme",href:"https://github.com/AlttiRi/href-lister#keeplister",target:"_blank"},[a("i",null,"i")],-1)),Tt=y({__name:"App",setup(t){return(n,o)=>(g(),b(L,null,[M(xt),wt],64))}});const $t=S(Tt,[["__scopeId","data-v-c9a0b7c1"]]);tt($t).mount("#app");
//# sourceMappingURL=index.js.map
