import{r as T,c as $,d as x,o as v,a as y,b as r,w as Y,v as q,u as b,i as F,p as O,e as P,s as H,f as K,g as G,h as J,j as Q,n as U,k as X,t as E,l as Z,m as z,q as tt,F as I,x as et,y as nt,z as M,A as ot}from"./vendor.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const c of e)if(c.type==="childList")for(const l of c.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(e){const c={};return e.integrity&&(c.integrity=e.integrity),e.referrerPolicy&&(c.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?c.credentials="include":e.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(e){if(e.ep)return;e.ep=!0;const c=n(e);fetch(e.href,c)}})();const h=T(""),B=$(()=>st(h.value)),k=$(()=>B.value.map(t=>t.url));function st(t){const s=t.split(`
`).map(o=>o.trim()).filter(o=>o),n=[];for(const o of s){const[e,...c]=o.split(/\s+(#|\/\/)/),[l,...i]=e.trim().split(/\s+/);if(l.startsWith("http")){const d=D(l);if(d&&i.every(m=>!D(m))){n.push({url:d,comment:[...i,...c].join(" ")});continue}d&&n.push({url:d})}else i.unshift(l);for(const d of i){const m=D(d);m&&n.push({url:m})}}return n}function D(t){const s=t.match(/(['"]?)(?<url>https?:\/\/[^\s"]+)(\1)/);if(console.log(s),s!=null&&s.groups)return s.groups.url}function rt(t,s=100){const n=i=>`${i.length?'["'+i.join('", "')+'"]':"[]"}`;if(t.length<=s)return`/* ${t.length.toString().padStart(3)} */ ${n(t)},`;const o=i=>i.toString().length,e=Math.trunc(t.length/s),l=[`/* ${t.length.toString().padStart(1+o(t.length))+" ".repeat(3+o(e))} */`];for(let i=0;i<=e;i++){const d=t.slice(s*i,s+s*i),m=`(${i+1})`.padStart(2+o(e)),a=d.length.toString().padStart(1+o(t.length));l.push(`/* ${a} ${m} */ ${n(d)},`)}return l.join(`
`)}const L=t=>(O("data-v-f9a7f093"),t=t(),P(),t),at={class:"row row-cols-lg-3 g-3 align-items-end"},ct={class:"input col-12"},it=L(()=>r("label",{for:"urls-textarea",class:"fuck-off-lighthouse"},null,-1)),lt={class:"input col-12"},ut={class:"row"},pt=L(()=>r("span",{class:"btn-group"},[r("span",{class:"input-group-text me-2"},"Clipboard")],-1)),dt={class:".col m-1"},ft=L(()=>r("span",{class:"btn-group"},[r("span",{class:"input-group-text me-2 text-center"},"Controls")],-1)),_t=x({__name:"InputControls",setup(t){const s=new WeakMap;async function n(a){a.classList.add("btn-active");const u=H(150);s.set(a,u),await u,s.get(a)===u&&a.classList.remove("btn-active")}const o=T(null);function e(a){var u;h.value="",(u=o.value)==null||u.focus(),n(a.currentTarget)}function c(a){navigator.clipboard.writeText(k.value.join(" ")),n(a.currentTarget)}function l(a){a.preventDefault(),navigator.clipboard.writeText(k.value.join(`
`)),n(a.currentTarget)}function i(a){a.button===1&&(a.preventDefault(),navigator.clipboard.writeText(rt(k.value)),n(a.currentTarget))}async function d(a){const{currentTarget:u}=a,g=await navigator.clipboard.readText();console.log("[clipboard] readText:",g),h.value&&!h.value.endsWith(`
`)&&(h.value+=`
`),h.value+=g,n(u)}async function m(a){const{currentTarget:u}=a,g=await navigator.clipboard.readText();console.log("[clipboard] readText:",g),h.value=g,n(u)}return(a,u)=>(v(),y("div",at,[r("div",ct,[it,Y(r("textarea",{id:"urls-textarea",spellcheck:"false","onUpdate:modelValue":u[0]||(u[0]=g=>F(h)?h.value=g:null),ref_key:"textareaEl",ref:o},null,512),[[q,b(h)]])]),r("div",lt,[r("span",ut,[r("span",{class:".col m-1"},[pt,r("button",{class:"btn btn-outline-primary me-1",onClick:m},"Replace"),r("button",{class:"btn btn-outline-primary me-1",onClick:d},"Append")]),r("span",dt,[ft,r("button",{class:"btn btn-outline-primary me-1",onClick:e},"Clear"),r("button",{class:"btn btn-primary me-1",title:"Copy URLs",onClick:c,onContextmenu:l,onPointerdown:i},"Copy",32)])])])]))}});const S=(t,s)=>{const n=t.__vccOpts||t;for(const[o,e]of s)n[o]=e;return n},mt=S(_t,[["__scopeId","data-v-f9a7f093"]]);function ht(t,s=50){let n=!1,o=!1,e,c;return function(...l){n?(e=this,c=l,o=!0):(n=!0,setTimeout(function(){o&&t.apply(e,c),n=o=!1},s),t.apply(this,l))}}const gt={class:"col-9 nowrap-text-ceil"},vt={class:"nowrap-text-ceil-content"},bt=["title","onContextmenu"],yt=["href","title"],xt={class:"comment-content nowrap-text-ceil-content no-dbl-click-select"},wt=x({__name:"UrlListItem",props:{ue:null},setup(t){const n=t.ue.url,o=K("HrefLister","Visits"),e=T(-1);G(async()=>{e.value=await a()||-2,console.log(e.value)});const c=$(l);function l(){return e.value<0?"never clicked":g(e.value)}function i(){console.log("onDblClick")}const d=$(()=>{if(e.value<0)return"never-clicked";const f=Date.now(),p=Math.trunc((f-e.value)/1e3);return p<60?"minute-1":p<60*2?"minute-2":p<60*5?"minute-5":p<60*10?"minute-10":p<60*30?"minute-30":p<60*60?"hour-1":p<60*60*2?"hour-2":p<60*60*24?"day-1":"day-n"});async function m(){const f=Date.now();await Z(n,f,o),e.value=f}function a(){return J(n,o)}async function u(){await z(n,o),e.value=-2}function g(f){return N(f)+" â€” "+Q(f,"YYYY.MM.DD HH:mm:SS",!1)}function N(f){const p=Date.now(),_=Math.trunc((p-f)/1e3);if(_<60)return`${_} second${_>1?"s":""} ago`;if(_<60*60){const C=Math.trunc(_/60);return`${C} minute${C>1?"s":""} ago`}if(_<60*60*24){const C=Math.trunc(_/60%60).toString().padStart(2,"0");return`${Math.trunc(_/60/60)}:${C} ago`}return Math.trunc(_/60/60/24)+" days ago"}const w=T(!1);function V(){w.value=!0,m()}function j(){w.value=!w.value}const A=ht(R,1e3);function R(){tt(e)}function W(f){f.button===1&&(f.preventDefault(),u())}return(f,p)=>(v(),y("tr",{class:U({clicked:w.value}),onPointerenter:p[0]||(p[0]=(..._)=>b(A)&&b(A)(..._))},[r("td",gt,[r("span",vt,[r("span",{class:U(["info-dot",{["has-comment"]:t.ue.comment,visited:e.value>0,[b(d)]:!0}]),title:b(c),onContextmenu:X(j,["prevent"]),onPointerdown:W},null,42,bt),r("a",{class:"url link-primary",target:"_blank",rel:"noreferrer noopener",href:t.ue.url,title:t.ue.comment,onClick:V},E(t.ue.url),9,yt)])]),r("td",{class:"col-3 comment nowrap-text-ceil",onDblclick:i},[r("span",xt,E(t.ue.comment),1)],32)],34))}});const Ct=S(wt,[["__scopeId","data-v-5abe128a"]]),Tt={class:"table table-borderless"},$t=x({__name:"UrlList",setup(t){return(s,n)=>(v(),y("div",null,[r("table",Tt,[r("tbody",null,[(v(!0),y(I,null,et(b(B),o=>(v(),nt(Ct,{key:o.url,ue:o},null,8,["ue"]))),128))])])]))}}),kt=r("hr",null,null,-1),Dt=r("hr",null,null,-1),Mt=x({__name:"Main",setup(t){return(s,n)=>(v(),y(I,null,[kt,M(mt),Dt,M($t)],64))}}),It=t=>(O("data-v-80fad6c5"),t=t(),P(),t),Lt=It(()=>r("a",{class:"readme",title:"Open Readme",href:"https://github.com/AlttiRi/href-lister#keeplister",target:"_blank"},[r("i",null,"i")],-1)),St=x({__name:"App",setup(t){return(s,n)=>(v(),y(I,null,[M(Mt),Lt],64))}});const At=S(St,[["__scopeId","data-v-80fad6c5"]]);ot(At).mount("#app");
//# sourceMappingURL=index.js.map
