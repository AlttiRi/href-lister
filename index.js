import{r as y,c as C,d as S,o as m,a as v,b as n,w as J,v as K,u as d,i as X,p as G,e as Q,f as R,g as Rt,T as wt,h as It,j as kt,k as St,s as xt,l as Lt,t as z,m as mt,n as lt,q as Et,x as w,y as M,z as qt,A as dt,B as Y,C as Nt,D as Bt,E as vt,F as Z,G as it,H as jt,I as Ft,J as D,K as Ut,L as Wt,M as Ht,N as gt,O as Yt}from"./vendor.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function e(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(l){if(l.ep)return;l.ep=!0;const i=e(l);fetch(l.href,i)}})();const Mt={input_only:"",input_only_disabled:!1,input_ignore:"",input_ignore_disabled:!1,reverse_input_only:!1,case_sensitive:!1},et=y(Mt.input_only),st=y(Mt.input_ignore),Jt=C(()=>{let s=et.value.trim().split(/\s+/g).filter(l=>l),t=st.value.trim().split(/\s+/g).filter(l=>l);s=s.map(l=>l.toLowerCase()),t=t.map(l=>l.toLowerCase());let e,o;return e=l=>s.some(i=>l.toLowerCase().includes(i)),o=l=>t.some(i=>l.toLowerCase().includes(i)),{matchOnly:e,matchIgnore:o,onlyParts:s,ignoreParts:t}}),Kt=C(()=>{const{matchOnly:s,matchIgnore:t,onlyParts:e}=Jt.value;return e.length?o=>s(o):o=>!t(o)}),Pt=s=>(G("data-v-40d2bd48"),s=s(),Q(),s),Xt={class:"row row-cols-lg-3 g-3 align-items-center","data-comp":"Filters"},zt={class:"col-12"},Gt={class:"input-group"},Qt=Pt(()=>n("span",{class:"input-group-text"},"Only",-1)),Zt={class:"col-12"},te={class:"input-group"},ee=Pt(()=>n("span",{class:"input-group-text"},"Ignore",-1)),se=S({__name:"Filters",setup(s){return(t,e)=>(m(),v("div",Xt,[n("div",zt,[n("label",null,[n("span",Gt,[Qt,J(n("input",{type:"text",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=o=>X(et)?et.value=o:null)},null,512),[[K,d(et)]])])])]),n("div",Zt,[n("label",null,[n("span",te,[ee,J(n("input",{type:"text",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=o=>X(st)?st.value=o:null)},null,512),[[K,d(st)]])])])])]))}}),E=(s,t)=>{const e=s.__vccOpts||s;for(const[o,l]of t)e[o]=l;return e},ne=E(se,[["__scopeId","data-v-40d2bd48"]]),oe={};function ae(s,t){return m(),R(wt,{to:"body"},[Rt(s.$slots,"default")])}const yt=E(oe,[["render",ae]]),N={createStore:It,del:kt,get:St,set:xt,entries:Lt},nt=N.createStore("HrefListerUrlInfo","UrlInfo"),Dt=class H{constructor(t,e,o){this.url=t,this.state=e,o&&(this.inputComment=o),e.visited&&(this.initialVisited=e.visited)}static async getInstance({url:t,inputComment:e}){let o=H.stateMap.get(t);return o?new H(t,o,e):(o=await N.get(t,nt),o===void 0&&(o={}),H.stateMap.set(t,o),new H(t,o,e))}isEquals(t){return t?this.state===t.state&&this.inputComment===t.inputComment:!1}get comment(){return this.state.comment}get visited(){return this.state.visited}get tags(){return this.state.tags}async setComment(t){this.state.comment=t,await this.update()}async delComment(){delete this.state.comment,await this.update()}async setVisited(t){this.state.visited=t,await this.update()}async delVisited(){delete this.state.visited,await this.update()}async addTag(t){this.state.tags||(this.state.tags=[]),!this.state.tags.includes(t)&&(this.state.tags.push(t),await this.update())}async delTag(t){if(!this.state.tags)return;const e=this.state.tags.indexOf(t);e!=-1&&(this.state.tags.splice(e,1),this.state.tags.length===0&&delete this.state.tags,await this.update())}update(){return Object.keys(this.state).length?N.set(this.url,z(this.state),nt):N.del(this.url,nt)}};Dt.stateMap=new Map;let Vt=Dt;const le=N.createStore("HrefListerComments","Comments"),ie=N.createStore("HrefLister","Visits");Object.assign(globalThis,{idb:{createStore:It,del:kt,get:St,set:xt,entries:Lt,commentsStore:le,visitsStore:ie,urlInfoStore:nt},UrlEntry:Vt});function re(s){const t=s.split(`
`).map(o=>o.trim()).filter(o=>o),e=[];for(const o of t){const[l,...i]=o.split(/\s+(#|\/\/)/),[u,...a]=l.trim().split(/\s+/);if(u.startsWith("http")){const r=ct(u);if(r&&a.every(f=>!ct(f))){e.push({url:r,inputComment:[...a,...i].join(" ")});continue}r&&e.push({url:r})}else a.unshift(u);for(const r of a){const f=ct(r);f&&e.push({url:f})}}return e}function ct(s){const t=s.match(/(['"]?)(?<url>https?:\/\/[^\s"]+)(\1)/);if(console.log(t),t?.groups)return t.groups.url}const ue=-1,x=y(""),L=y(null),U=y(null),ot=y(new Set),B=y(!0),pt=y(!1);async function bt(){pt.value=!0,B.value&&(B.value=!1,await lt(),B.value=!0)}const q=y(!0),at=y(!0),I=y(null),Ot=y([]);mt(async()=>{const s=re(x.value),t=[];for(const e of s)t.push(await Vt.getInstance(e));Ot.value=t});const At=C(()=>Ot.value.filter(s=>Kt.value(s.url))),j=C(()=>At.value.map(s=>s.url));location.href==="http://localhost:5173/"&&(x.value=`http://localhost:5173/ asdf
http://localhost:5173/#qqq
http://localhost:5173/#qqq
http://localhost:5173/#www
`);function ce(s,t=50){let e=!1,o=!1,l,i;function u(){o?(setTimeout(u,t),s.apply(l,i)):e=!1,o=!1}return function(...a){e?(l=this,i=a,o=!0):(e=!0,setTimeout(u,t),s.apply(this,a))}}function de(s,t=100){const e=a=>`${a.length?'["'+a.join('", "')+'"]':"[]"}`;if(s.length<=t)return`/* ${s.length.toString().padStart(3)} */ ${e(s)},`;const o=a=>a.toString().length,l=Math.trunc(s.length/t),u=[`/* ${s.length.toString().padStart(1+o(s.length))+" ".repeat(3+o(l))} */`];for(let a=0;a<=l;a++){const r=s.slice(t*a,t+t*a),f=`(${a+1})`.padStart(2+o(l)),p=r.length.toString().padStart(1+o(s.length));u.push(`/* ${p} ${f} */ ${e(r)},`)}return u.join(`
`)}function pe(s){const t=Date.now(),e=Math.trunc((t-s)/1e3);if(e<60)return`${e} second${e>1?"s":""} ago`;if(e<60*60){const o=Math.trunc(e/60);return`${o} minute${o>1?"s":""} ago`}if(e<60*60*24){const o=Math.trunc(e/60%60).toString().padStart(2,"0");return`${Math.trunc(e/60/60)}:${o} ago`}return Math.trunc(e/60/60/24)+" days ago"}function fe(s){let t=0;for(let e=0;e<s.length;e++)t=Math.imul(Math.imul(31,t)+s.charCodeAt(e),1);return t}const $t=["1st","2nd","3rd"];function me(s){return s=Number(s),$t[s]?$t[s]:s+1+"th"}function _e(s,t){if(t.aborted)return Promise.resolve(t.reason);let e;return new Promise(o=>{e=setTimeout(o,s),t.onabort=()=>{clearTimeout(e),o(t.reason)}})}const _t=s=>(G("data-v-f705f8cf"),s=s(),Q(),s),he={class:"row row-cols-lg-3 g-3 align-items-end","data-comp":"InputControls"},ve={class:"input col-12"},ge=_t(()=>n("label",{for:"urls-textarea",class:"fuck-off-lighthouse"},null,-1)),ye=["disabled"],be={class:"input col-12"},$e={class:"row"},Ce={class:".col m-1"},Te=_t(()=>n("span",{class:"btn-group"},[n("span",{class:"input-group-text me-2"},"Clipboard")],-1)),we=["disabled"],Ie=["disabled"],ke={class:".col m-1"},Se=_t(()=>n("span",{class:"btn-group"},[n("span",{class:"input-group-text me-2 text-center"},"Controls")],-1)),xe=["disabled"],Le=S({__name:"InputControls",setup(s){const t=new WeakMap;async function e(p){p.classList.add("btn-active");const _=lt(150);t.set(p,_),await _,t.get(p)===_&&p.classList.remove("btn-active")}const o=y(null);function l(p){x.value="",o.value?.focus(),e(p.currentTarget)}function i(p){navigator.clipboard.writeText(j.value.join(" ")),e(p.currentTarget)}function u(p){p.preventDefault(),navigator.clipboard.writeText(j.value.join(`
`)),e(p.currentTarget)}function a(p){p.button===1&&(p.preventDefault(),navigator.clipboard.writeText(de(j.value)),e(p.currentTarget))}async function r(p){const{currentTarget:_}=p,$=await navigator.clipboard.readText();console.log("[clipboard] readText:",$),x.value&&!x.value.endsWith(`
`)&&(x.value+=`
`),x.value+=$,e(_)}async function f(p){const{currentTarget:_}=p,$=await navigator.clipboard.readText();console.log("[clipboard] readText:",$),x.value=$,e(_)}return(p,_)=>(m(),v("div",he,[n("div",ve,[ge,J(n("textarea",{id:"urls-textarea",spellcheck:"false","onUpdate:modelValue":_[0]||(_[0]=$=>X(x)?x.value=$:null),ref_key:"textareaEl",ref:o,disabled:!d(q)},null,8,ye),[[K,d(x)]])]),n("div",be,[n("span",$e,[n("span",Ce,[Te,n("button",{class:"btn btn-outline-primary me-1",onClick:f,disabled:!d(q)},"Replace",8,we),n("button",{class:"btn btn-outline-primary me-1",onClick:r,disabled:!(d(q)||d(at))},"Append",8,Ie)]),n("span",ke,[Se,n("button",{class:"btn btn-outline-danger me-1",onClick:l,disabled:!d(q)},"Clear",8,xe),n("button",{class:"btn btn-primary me-1",title:"Copy URLs",onClick:i,onContextmenu:u,onPointerdown:a},"Copy",32),n("button",{class:"btn btn-outline-primary me-1",title:"Toggle Auto Clicker Popup",onClick:_[1]||(_[1]=$=>B.value=!d(B)),onContextmenu:_[2]||(_[2]=Et((...$)=>d(bt)&&d(bt)(...$),["prevent"]))},"Auto Clicker",32)])])])]))}}),Ee=E(Le,[["__scopeId","data-v-f705f8cf"]]),Ct=C(()=>{const s=[...new Set(j.value)].sort().join(" ");return Math.abs(fe(s)).toString(16).slice(-8).padStart(8,"0").toUpperCase()}),W=C(()=>{const s=j.value,t=s.length,e=new Set(s).size;return{count:t,uniqueCount:e}}),A=C(()=>{let s=0;const t=new Set;for(const e of j.value)ot.value.has(e)&&(s++,t.add(e));return{count:s,uniqueCount:t.size}}),F=s=>(G("data-v-456c13e6"),s=s(),Q(),s),Ue={"data-comp":"URLsInfoLine"},Me={title:"URLs count"},Pe={key:0,title:"URLs count (unique)"},De=F(()=>n("span",{class:"grey"}," — ",-1)),Ve={title:"URLs hash"},Oe=F(()=>n("span",{class:"grey"},"#",-1)),Ae={class:"urls-hash"},Re={key:0},qe=F(()=>n("span",{class:"grey"}," — ",-1)),Ne=F(()=>n("span",{class:"grey"},"[",-1)),Be={class:"clicked-count"},je={title:"Clicked URLs count"},Fe={key:0,title:"Clicked URLs count (unique)"},We=F(()=>n("span",{class:"grey"},"]",-1)),He=F(()=>n("span",{class:"grey"}," — ",-1)),Ye=["title"],Je=S({__name:"URLsInfoLine",setup(s){mt(()=>{const{count:i,uniqueCount:u}=W.value;if(!i){document.title="HrefLister";return}if(document.title=`HrefLister — ${t(i,u)} — #${Ct.value}`,A.value.count){const{count:a,uniqueCount:r}=A.value;document.title=`${document.title} — [ ${t(a,r)} ]`}});function t(i,u){let a=i.toString();return i!==u&&(a=`${a} (${u})`),a}async function e(){if(!I.value)return;const i=I.value.elem;i.scrollIntoView({block:"center"}),i.classList.add("highlighted-2"),await lt(800),i.classList.remove("highlighted-2")}function o(){I.value&&I.value.elem.classList.add("highlighted-1")}function l(){I.value&&I.value.elem.classList.remove("highlighted-1")}return(i,u)=>(m(),v("div",Ue,[n("span",null,[n("span",Me,w(d(W).count),1),d(W).count!==d(W).uniqueCount?(m(),v("span",Pe," ("+w(d(W).uniqueCount)+")",1)):M("",!0)]),De,n("span",Ve,[Oe,n("span",Ae,w(d(Ct)),1)]),d(A).count?(m(),v("span",Re,[qe,n("span",null,[Ne,n("span",Be,[n("span",je,w(d(A).count),1),d(A).count!==d(A).uniqueCount?(m(),v("span",Fe," ("+w(d(A).uniqueCount)+")",1)):M("",!0)]),We])])):M("",!0),d(I)?(m(),v("span",{key:1,onClick:e,onPointerenter:o,onPointerleave:l},[He,n("span",{class:"grey",title:`Last clicked URL index
`+d(I).entry.url},w(d(me)(d(I).index)),9,Ye)],32)):M("",!0)]))}}),Ke=E(Je,[["__scopeId","data-v-456c13e6"]]);function Xe(s,t){for(const[e,o]of Object.entries(t))s.style[e]=o}function ze(s,{handle:t,onStop:e,onMove:o,state:l}={}){const i=a=>{o?.(a),Xe(s,a)};l&&(i(l),e?.(l));const u=t||s;u.style.userSelect="none",u.style.touchAction="none",s.style.position="absolute",u.addEventListener("pointerdown",a=>{a.preventDefault();const r=a.clientY-parseInt(getComputedStyle(s).top),f=a.clientX-parseInt(getComputedStyle(s).left);let p;function _(g){!u.hasPointerCapture(g.pointerId)&&u.setPointerCapture(g.pointerId),p={top:g.clientY-r+"px",left:g.clientX-f+"px"},i(p)}function $(){removeEventListener("pointermove",_),p&&e?.(p)}addEventListener("pointermove",_,{passive:!0}),addEventListener("pointerup",$,{once:!0})})}function Ge({id:s,onMove:t,onStop:e,reset:o,restore:l}){if(o&&s&&localStorage.removeItem(s),!l||!s)return{onMove:t,onStop:e};const i=localStorage.getItem(s);let u;i&&(u=JSON.parse(i));function a(f){localStorage.setItem(s,JSON.stringify(f))}let r;return e?r=function(f){e(f),a(f)}:r=a,{onMove:t,onStop:r,state:u}}const Qe={class:"popup-root","data-comp":"AutoClickPopup"},Ze={class:"popup-content"},ts={class:"btn-group p-1 container",role:"group","aria-label":"Basic example"},es=["disabled"],ss=["disabled"],ns=["disabled"],os={class:"div-wrap"},as={class:"p-1 pt-0 col-12"},ls={class:"input-group"},is=n("span",{class:"input-group-text col-3"},"Delay",-1),rs={class:"div-wrap"},us={class:"p-1 pt-0 col-12"},cs={class:"input-group"},ds=n("span",{class:"input-group-text col-3"},"Count",-1),ps=S({__name:"AutoClickPopup",setup(s){const t=y(),e=y(),o=mt(()=>{if(!t.value||!e.value)return;const h=t.value,T=e.value;ze(t.value,{handle:T,...Ge({restore:!0,id:"href-lister-popup-move-state",reset:pt.value})}),T.addEventListener("pointerdown",c=>{h.focus()},{passive:!0}),pt.value=!1,o()});function l(h,T){const c=localStorage.getItem(h),k=Nt(c?JSON.parse(c):T);return dt(k,()=>{localStorage.setItem(h,JSON.stringify(k))}),k}const{delay:i,count:u}=qt(l("href-lister-clicker-settings",{delay:1,count:0})),a=y("ready"),r=y(0);let f=new AbortController;dt(a,()=>{a.value==="ready"?at.value=q.value=!0:a.value==="started"?at.value=q.value=!1:a.value==="paused"&&(at.value=!0)});async function p(){console.log("startClicking");const h=[...document.querySelectorAll("a.url")],T=u.value===0?h.length:Math.min(h.length,u.value+r.value),c=T<h.length;for(a.value="started";r.value<T;){const k=h[r.value],b=k.closest('[data-comp="UrlListItem"]');if(b.classList.add("hover"),await _e(i.value*1e3,f.signal),b.classList.remove("hover"),a.value==="started")r.value++,k.dispatchEvent(new MouseEvent("click")),await lt();else if(a.value==="paused"){a.value="paused";return}else if(a.value==="stopped"){r.value=0,a.value="ready";return}}c?a.value="paused":(r.value=0,a.value="ready")}function _(h){r.value===0&&(h="stopped"),a.value=h,f.abort(h),f=new AbortController}function $(){if(a.value==="started"){_("stopped");return}r.value=0,a.value="ready"}const g=y(!1);let O=0;function P(){g.value=!0,setTimeout(()=>clearTimeout(O))}function rt(){O=setTimeout(()=>{g.value=!1},250)}let V;function ut(){if(I.value&&a.value!=="ready"){const h=I.value.elem.nextElementSibling;h&&(h.classList.add("highlighted-1"),V=h)}else{const h=document.querySelector('[data-comp="UrlListItem"]');h&&(h.classList.add("highlighted-1"),V=h)}}function tt(){V&&(V.classList.remove("highlighted-1"),V=null)}return(h,T)=>(m(),v("div",Qe,[n("div",{class:Y(["popup",{focus:g.value}]),tabindex:"-1",ref_key:"popupElem",ref:t,onFocusin:P,onFocusout:rt},[n("div",{class:"popup-header p-1",ref_key:"headerElem",ref:e},"Auto Clicker",512),n("div",Ze,[n("div",ts,[n("button",{class:"btn btn-primary col-4",onClick:p,onPointerenter:ut,onPointerleave:tt,disabled:!(a.value==="ready"||a.value==="paused")},w(a.value==="ready"||!r.value?"Start":"Next"),41,es),n("button",{class:"btn btn-secondary col-4",disabled:a.value!=="started",onClick:T[0]||(T[0]=c=>_("paused"))},"Pause",8,ss),n("button",{class:"btn btn-secondary col-4",disabled:!r.value,onClick:$},w(a.value==="paused"?"Reset":"Stop"),9,ns)]),n("div",os,[n("label",as,[n("span",ls,[is,J(n("input",{title:"Click delay (seconds)",class:"form-control",type:"number","onUpdate:modelValue":T[1]||(T[1]=c=>X(i)?i.value=c:null)},null,512),[[K,d(i)]])])])]),n("div",rs,[n("label",us,[n("span",cs,[ds,J(n("input",{title:"Count",class:"form-control",type:"number","onUpdate:modelValue":T[2]||(T[2]=c=>X(u)?u.value=c:null)},null,512),[[K,d(u)]])])])])])],34)]))}}),ht=1e3*60,Tt=ht*10,ft=ht*60,fs=ft*24;class ms{constructor(t){this.timeRef=t,dt(t,e=>{e>0&&this.setTimer()}),Bt(()=>{this.clearTimer()})}setTimer(){this.clearTimer();const t=Date.now()-this.timeRef.value;let e;if(t<Tt)e=ht;else if(t<ft)e=Tt;else if(t<fs)e=ft;else return;this.timerId=setTimeout(()=>{vt(this.timeRef),this.setTimer()},e)}clearTimer(){clearTimeout(this.timerId)}forceTrigger(){vt(this.timeRef),this.setTimer()}}const _s=s=>(G("data-v-47825c5d"),s=s(),Q(),s),hs={class:"tags"},vs={class:"tag-master","data-comp":"EntryTags"},gs=["data-tag"],ys={key:0,class:"tag add-tag"},bs=_s(()=>n("span",{class:"plus"},"+",-1)),$s=[bs],Cs=S({__name:"UrlListItemTags",props:{ue:{}},setup(s){const t=s;function e(){z(U.value)===z(t.ue)?U.value=null:U.value=t.ue,console.log(U.value)}return(o,l)=>(m(),v("div",{class:"tags-wrapper",onClick:e,"data-comp":"UrlListItemTags"},[n("div",hs,[n("div",vs,[(m(!0),v(Z,null,it(o.ue.tags,i=>(m(),v("div",{class:"tag","data-tag":i},w(i),9,gs))),256))])]),o.ue.tags?.length?M("",!0):(m(),v("div",ys,$s))]))}}),Ts=E(Cs,[["__scopeId","data-v-47825c5d"]]),ws=["data-index"],Is={class:"col-9 nowrap-text-ceil url url-cell"},ks={class:"nowrap-text-ceil-content"},Ss=["title"],xs=["href","title"],Ls={class:"comment-content nowrap-text-ceil-content no-dbl-click-select"},Es=S({__name:"UrlListItem",props:{ue:{},index:{}},setup(s){const t=s,e=C(()=>t.ue.visited||ue);function o(){t.ue.delVisited()}function l(){const c=Date.now();t.ue.setVisited(c)}function i(c){c.button===1&&(c.preventDefault(),o())}const u=C(()=>{if(t.ue.comment!==void 0){if(!t.ue.inputComment)return"comment-from-store";if(t.ue.comment!==t.ue.inputComment)return"comment-from-store-over"}return""}),a=C(()=>t.ue.comment!==void 0?t.ue.comment.trim():t.ue.inputComment);function r(){z(L.value)===z(t.ue)?L.value=null:L.value=t.ue}const f=y(),p=C(()=>ot.value.has(t.ue.url));function _(){ot.value.add(t.ue.url),l(),I.value={entry:t.ue,index:t.index,elem:f.value}}function $(c){c.button!==1||document.getRootNode().activeElement!==c.currentTarget||_()}function g(){ot.value.delete(t.ue.url)}const O=C(()=>{const c=I.value;return c?t.index===c.index&&t.ue.isEquals(c.entry):!1});jt(()=>{O.value&&(I.value=null)});const P=new ms(e);function rt(){P.forceTrigger()}const V=ce(rt,2e3),ut=C(()=>{let c;return e.value<0?c="never clicked":c=tt(e.value),t.ue.initialVisited&&t.ue.initialVisited!==e.value?`${c}
${tt(t.ue.initialVisited)}`:c});function tt(c){return pe(c)+" — "+Ft(c,"YYYY.MM.DD HH:mm:SS",!1)}const h=C(()=>T(e.value));function T(c){if(c<0)return"never-clicked";const k=Date.now(),b=Math.trunc((k-c)/1e3);return b<60?"minute-1":b<60*2?"minute-2":b<60*5?"minute-5":b<60*10?"minute-10":b<60*30?"minute-30":b<60*45?"minute-45":b<60*60?"minute-60":b<3600*2?"hour-2":b<3600*4?"hour-4":b<3600*8?"hour-8":b<3600*14?"hour-14":b<3600*24?"day-1":b<86400*7?"day-7":b<86400*30?"month-1":b<2592e3*3?"month-3":b<2592e3*6?"month-6":"long-ago"}return(c,k)=>(m(),v("tr",{onPointerenter:k[0]||(k[0]=(...b)=>d(V)&&d(V)(...b)),"data-index":c.index,class:Y([{clicked:p.value,"last-clicked":O.value},"list-item-row"]),"data-comp":"UrlListItem",ref_key:"htmlCompRef",ref:f},[n("td",Is,[n("span",ks,[n("span",{class:Y(["info-dot",{"has-comment":c.ue.inputComment,visited:e.value>0,[h.value]:!0}]),title:ut.value,onContextmenu:Et(g,["prevent"]),onPointerdown:i},null,42,Ss),n("a",{class:"url link-primary",target:"_blank",rel:"noreferrer noopener",href:c.ue.url,title:c.ue.inputComment,onClick:_,onPointerup:$},w(c.ue.url),41,xs)]),D(Ts,{class:"tags",ue:c.ue},null,8,["ue"])]),n("td",{class:Y(["col-3 comment nowrap-text-ceil",{[u.value]:u.value}]),onDblclick:r},[n("span",Ls,w(a.value||" "),1)],34)],42,ws))}}),Us=E(Es,[["__scopeId","data-v-195280ad"]]),Ms={"data-comp":"UrlList"},Ps={class:"table table-borderless"},Ds=S({__name:"UrlList",setup(s){return(t,e)=>(m(),v("div",Ms,[n("table",Ps,[n("tbody",null,[(m(!0),v(Z,null,it(d(At),(o,l)=>(m(),R(Us,{ue:o,index:l,key:l+o.url},null,8,["ue","index"]))),128))])])]))}}),Vs={class:"popup-content"},Os={class:"modal-content"},As={class:"modal-header"},Rs={class:"modal-title"},qs={class:"modal-body"},Ns=["value"],Bs=S({__name:"MessageEditPopup",setup(s){const t=C(()=>{const r=L.value;return r.comment===void 0?r.inputComment:r.comment});function e(r){r.currentTarget===r.target&&(L.value=null)}function o(r){r.key==="Enter"&&!r.shiftKey&&(r.preventDefault(),L.value=null)}const l=y(null);Ut(()=>{l.value?.focus()});function u(r){const f=r.currentTarget.value;L.value?.setComment(f)}function a(){L.value?.delComment()}return(r,f)=>d(L)?(m(),v("div",{key:0,class:"modal message-edit-popup","data-comp":"MessageEditPopup",onPointerdown:e},[n("div",Vs,[n("div",Os,[n("div",As,[n("h5",Rs,w(d(L).url),1),n("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:e})]),n("div",qs,[n("textarea",{rows:"5",value:t.value,onInput:u,ref_key:"textareaElem",ref:l,onKeydown:o},null,40,Ns)]),n("div",{class:"modal-footer"},[n("button",{type:"button",class:"btn btn-secondary",onClick:a},"Reset")])])])],32)):M("",!0)}}),js=E(Bs,[["__scopeId","data-v-29a45c96"]]),Fs={class:"selected-tags","data-comp":"SelectedTags"},Ws=["data-tag"],Hs={class:"input-wrapper"},Ys=["value"],Js=S({__name:"SelectedTags",props:{entry:{},modelValue:{}},emits:["update:modelValue","tabPressed"],setup(s,{emit:t}){const e=s,o=t;function l(g){const P=g.target.dataset.tag;P&&e.entry?.delTag(P)}const i=y(null),a=document.createElement("canvas").getContext("2d");Ut(()=>{i.value&&(a.font=window.getComputedStyle(i.value).font)});function r(){if(!i.value)return;const g=a.measureText(i.value.value).width;i.value.style.width=g+6+"px"}function f(){i.value&&(i.value.selectionStart=i.value.selectionEnd,i.value.focus())}function p(){i.value?.select()}function _(g){o("update:modelValue",g.target.value)}function $(g){console.log(g),g.code==="Tab"&&(g.preventDefault(),o("tabPressed"))}return(g,O)=>(m(),v("div",Fs,[n("div",{class:"tag-master",onClick:l},[(m(!0),v(Z,null,it(g.entry.tags,P=>(m(),v("div",{class:"tag","data-tag":P},w(P),9,Ws))),256))]),n("span",{class:"label",onDblclick:p,onClick:f},[n("span",Hs,[n("input",Wt({type:"text",ref_key:"tagInput",ref:i,value:g.modelValue},Ht({input:[r,_]},!0),{onKeydown:$}),null,16,Ys)])],32)]))}}),Ks=E(Js,[["__scopeId","data-v-9d97319f"]]),Xs=["data-tag"],zs=S({__name:"SuggestedTag",props:{tagWrap:{}},setup(s){const t=s,{entry:e,tag:o}=t.tagWrap,l=C(()=>!!e.tags?.includes(o));function i(){l.value?e.delTag(o):e.addTag(o)}return(u,a)=>(m(),v("div",{class:Y(["tag",{selected:l.value}]),onClick:i,"data-tag":u.tagWrap.tag,"data-comp":"SuggestedTag"},w(u.tagWrap.tag),11,Xs))}}),Gs=E(zs,[["__scopeId","data-v-40287b21"]]);function Qs(){return JSON.parse(localStorage.getItem("href_lister_all_tags")||"[]")}const Zs=y(Qs()),tn={class:"popup-content"},en={class:"modal-content"},sn={class:"modal-header"},nn={class:"modal-title"},on={class:"modal-body"},an={class:"tags selected-tags-group"},ln={class:"tags all-tags-group"},rn={class:"tag-master"},un=S({__name:"UrlEntryTagsEditPopup",setup(s){const t=y(""),e=U,o=C(()=>Zs.value.map(a=>({tag:a,entry:e.value}))),l=C(()=>{const a=[],r=[];for(const f of o.value){const p=f.tag.indexOf(t.value);p!==-1&&(p===0?a.push(f):r.push(f))}return[a,r].flat()});function i(){t.value=""}function u(a){a.currentTarget===a.target&&(U.value=null)}return(a,r)=>(m(),R(wt,{to:"body"},[d(U)?(m(),v("div",{key:0,class:"modal tags-edit-popup",onPointerdown:u,"data-comp":"URLsInfoLine"},[n("div",tn,[n("div",en,[n("div",sn,[n("h5",nn,w(d(U).url),1)]),n("div",on,[n("div",an,[D(Ks,{entry:d(U),modelValue:t.value,"onUpdate:modelValue":r[0]||(r[0]=f=>t.value=f),onTabPressed:i},null,8,["entry","modelValue"])]),n("div",ln,[n("div",rn,[(m(!0),v(Z,null,it(l.value,f=>(m(),R(Gs,{"tag-wrap":f},null,8,["tag-wrap"]))),256))])])])])])],32)):M("",!0)]))}}),cn=E(un,[["__scopeId","data-v-b9b3916d"]]),dn={"data-comp":"Main"},pn=n("hr",null,null,-1),fn=n("hr",null,null,-1),mn=n("hr",null,null,-1),_n=n("hr",null,null,-1),hn=S({__name:"Main",setup(s){return(t,e)=>(m(),v("div",dn,[pn,D(ne),fn,D(Ee),mn,D(Ke),_n,D(Ds),d(U)?(m(),R(cn,{key:0})):M("",!0),d(L)?(m(),R(yt,{key:1},{default:gt(()=>[D(js)]),_:1})):M("",!0),d(B)?(m(),R(yt,{key:2},{default:gt(()=>[D(ps)]),_:1})):M("",!0)]))}}),vn=s=>(G("data-v-80fad6c5"),s=s(),Q(),s),gn=vn(()=>n("a",{class:"readme",title:"Open Readme",href:"https://github.com/AlttiRi/href-lister#keeplister",target:"_blank"},[n("i",null,"i")],-1)),yn=S({__name:"App",setup(s){return(t,e)=>(m(),v(Z,null,[D(hn),gn],64))}}),bn=E(yn,[["__scopeId","data-v-80fad6c5"]]);Yt(bn).mount("#app");
//# sourceMappingURL=index.js.map
