import{r as x,c as w,a as nt,d as $,o as y,b as C,e as s,w as ot,v as st,u as m,i as rt,p as B,f as F,s as at,g as R,h as j,j as H,k as ct,l as W,m as Y,n as lt,t as T,q as M,x as it,y as L,z as ut,F as A,A as dt,B as P,C as K,T as pt,D as U,E as ft}from"./vendor.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function o(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(r){if(r.ep)return;r.ep=!0;const a=o(r);fetch(r.href,a)}})();const g=x("");location.href==="http://localhost:5173/"&&(g.value=`http://localhost:5173/ asdf
http://localhost:5173/#qwe #qwerty1qwerty2qwerty3qwerty4qwerty5qwerty6
http://localhost:5173/#qqq`);const v=x(null),N=x(null),G=w(()=>{const t=mt(g.value),e=nt(t);return console.log(t,e),e}),E=w(()=>G.value.map(t=>t.url));function mt(t){const e=t.split(`
`).map(n=>n.trim()).filter(n=>n),o=[];for(const n of e){const[r,...a]=n.split(/\s+(#|\/\/)/),[l,...i]=r.trim().split(/\s+/);if(l.startsWith("http")){const _=I(l);if(_&&i.every(h=>!I(h))){o.push({url:_,comment:[...i,...a].join(" ")});continue}_&&o.push({url:_})}else i.unshift(l);for(const _ of i){const h=I(_);h&&o.push({url:h})}}return o}function I(t){const e=t.match(/(['"]?)(?<url>https?:\/\/[^\s"]+)(\1)/);if(console.log(e),e!=null&&e.groups)return e.groups.url}function _t(t,e=100){const o=i=>`${i.length?'["'+i.join('", "')+'"]':"[]"}`;if(t.length<=e)return`/* ${t.length.toString().padStart(3)} */ ${o(t)},`;const n=i=>i.toString().length,r=Math.trunc(t.length/e),l=[`/* ${t.length.toString().padStart(1+n(t.length))+" ".repeat(3+n(r))} */`];for(let i=0;i<=r;i++){const _=t.slice(e*i,e+e*i),h=`(${i+1})`.padStart(2+n(r)),c=_.length.toString().padStart(1+n(t.length));l.push(`/* ${c} ${h} */ ${o(_)},`)}return l.join(`
`)}const q=t=>(B("data-v-f9a7f093"),t=t(),F(),t),vt={class:"row row-cols-lg-3 g-3 align-items-end"},ht={class:"input col-12"},gt=q(()=>s("label",{for:"urls-textarea",class:"fuck-off-lighthouse"},null,-1)),yt={class:"input col-12"},bt={class:"row"},xt=q(()=>s("span",{class:"btn-group"},[s("span",{class:"input-group-text me-2"},"Clipboard")],-1)),Ct={class:".col m-1"},wt=q(()=>s("span",{class:"btn-group"},[s("span",{class:"input-group-text me-2 text-center"},"Controls")],-1)),$t=$({__name:"InputControls",setup(t){const e=new WeakMap;async function o(c){c.classList.add("btn-active");const u=at(150);e.set(c,u),await u,e.get(c)===u&&c.classList.remove("btn-active")}const n=x(null);function r(c){var u;g.value="",(u=n.value)==null||u.focus(),o(c.currentTarget)}function a(c){navigator.clipboard.writeText(E.value.join(" ")),o(c.currentTarget)}function l(c){c.preventDefault(),navigator.clipboard.writeText(E.value.join(`
`)),o(c.currentTarget)}function i(c){c.button===1&&(c.preventDefault(),navigator.clipboard.writeText(_t(E.value)),o(c.currentTarget))}async function _(c){const{currentTarget:u}=c,b=await navigator.clipboard.readText();console.log("[clipboard] readText:",b),g.value&&!g.value.endsWith(`
`)&&(g.value+=`
`),g.value+=b,o(u)}async function h(c){const{currentTarget:u}=c,b=await navigator.clipboard.readText();console.log("[clipboard] readText:",b),g.value=b,o(u)}return(c,u)=>(y(),C("div",vt,[s("div",ht,[gt,ot(s("textarea",{id:"urls-textarea",spellcheck:"false","onUpdate:modelValue":u[0]||(u[0]=b=>rt(g)?g.value=b:null),ref_key:"textareaEl",ref:n},null,512),[[st,m(g)]])]),s("div",yt,[s("span",bt,[s("span",{class:".col m-1"},[xt,s("button",{class:"btn btn-outline-primary me-1",onClick:h},"Replace"),s("button",{class:"btn btn-outline-primary me-1",onClick:_},"Append")]),s("span",Ct,[wt,s("button",{class:"btn btn-outline-primary me-1",onClick:r},"Clear"),s("button",{class:"btn btn-primary me-1",title:"Copy URLs",onClick:a,onContextmenu:l,onPointerdown:i},"Copy",32)])])])]))}});const D=(t,e)=>{const o=t.__vccOpts||t;for(const[n,r]of e)o[n]=r;return o},Tt=D($t,[["__scopeId","data-v-f9a7f093"]]);function kt(t,e=50){let o=!1,n=!1,r,a;return function(...l){o?(r=this,a=l,n=!0):(o=!0,setTimeout(function(){n&&t.apply(r,a),o=n=!1},e),t.apply(this,l))}}const J=R("HrefListerComments","Comments");function St(t,e){H(t,e,J)}function Mt(t){return j(t,J)}const V=R("HrefLister","Visits");function Dt(t,e){return H(t,e,V)}function Et(t){return j(t,V)}function It(t){return ct(t,V)}const Lt={class:"nowrap-text-ceil-content"},Ut=["title","onContextmenu"],At=["href","title"],Pt={class:"comment-content nowrap-text-ceil-content no-dbl-click-select"},qt=$({__name:"UrlListItem",props:{ue:null},setup(t){const e=t,o=e.ue.url,n=x(-1);W(r),Y(r);async function r(){const p=Et(o),d=Mt(o);n.value=await p||-2;const f=await d;f&&(e.ue.commentFromStore=f)}function a(){It(o),n.value=-2}function l(){const p=Date.now();Dt(o,p),n.value=p}const i=w(_);function _(){return n.value<0?"never clicked":b(n.value)}const h=w(()=>{if(e.ue.commentFromStore&&!e.ue.comment)return"comment-from-store";if(e.ue.commentFromStore&&e.ue.commentFromStore!==e.ue.comment)return"comment-from-store-over"});function c(){T(v.value)===T(e.ue)?v.value=null:v.value=e.ue}const u=w(()=>{if(n.value<0)return"never-clicked";const p=Date.now(),d=Math.trunc((p-n.value)/1e3);return d<60?"minute-1":d<60*2?"minute-2":d<60*5?"minute-5":d<60*10?"minute-10":d<60*30?"minute-30":d<60*60?"hour-1":d<60*60*2?"hour-2":d<60*60*24?"day-1":"day-n"});function b(p){return Q(p)+" — "+lt(p,"YYYY.MM.DD HH:mm:SS",!1)}function Q(p){const d=Date.now(),f=Math.trunc((d-p)/1e3);if(f<60)return`${f} second${f>1?"s":""} ago`;if(f<60*60){const S=Math.trunc(f/60);return`${S} minute${S>1?"s":""} ago`}if(f<60*60*24){const S=Math.trunc(f/60%60).toString().padStart(2,"0");return`${Math.trunc(f/60/60)}:${S} ago`}return Math.trunc(f/60/60/24)+" days ago"}const k=x(!1);function X(){k.value=!0,l(),N.value=T(e.ue)}const Z=w(()=>T(N.value)===T(e.ue));function z(){k.value=!k.value}const O=kt(tt,1e3);function tt(){ut(n)}function et(p){p.button===1&&(p.preventDefault(),a())}return(p,d)=>(y(),C("tr",{class:M({clicked:k.value}),onPointerenter:d[0]||(d[0]=(...f)=>m(O)&&m(O)(...f))},[s("td",{class:M(["col-9 nowrap-text-ceil url",{"last-clicked":m(Z)}])},[s("span",Lt,[s("span",{class:M(["info-dot",{["has-comment"]:t.ue.comment,visited:n.value>0,[m(u)]:!0}]),title:m(i),onContextmenu:it(z,["prevent"]),onPointerdown:et},null,42,Ut),s("a",{class:"url link-primary",target:"_blank",rel:"noreferrer noopener",href:t.ue.url,title:t.ue.comment,onClick:X},L(t.ue.url),9,At)])],2),s("td",{class:M(["col-3 comment nowrap-text-ceil",{[m(h)]:m(h)}]),onDblclick:c},[s("span",Pt,L(t.ue.commentFromStore||t.ue.comment||" "),1)],34)],34))}});const Vt=D(qt,[["__scopeId","data-v-5b25bd5a"]]),Ot={class:"table table-borderless"},Nt=$({__name:"UrlList",setup(t){return(e,o)=>(y(),C("div",null,[s("table",Ot,[s("tbody",null,[(y(!0),C(A,null,dt(m(G),n=>(y(),P(Vt,{key:n.url,ue:n},null,8,["ue"]))),128))])])]))}}),Bt={key:0,class:"message-edit-popup modal"},Ft={class:"popup-content"},Rt={class:"modal-content"},jt={class:"modal-header"},Ht={class:"modal-title"},Wt={class:"modal-body"},Yt=["value"],Kt=$({__name:"MessageEditPopup",setup(t){function e(){v.value=null}const o=x(null),n=()=>{var a;return(a=o.value)==null?void 0:a.focus()};W(n),Y(n);function r(a){if(!v.value)return;const l=a.currentTarget.value;v.value.commentFromStore=l,St(v.value.url,l)}return(a,l)=>(y(),P(pt,{to:"body"},[m(v)?(y(),C("div",Bt,[s("div",Ft,[s("div",Rt,[s("div",jt,[s("h5",Ht,L(m(v).url),1),s("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:e})]),s("div",Wt,[s("textarea",{rows:"5",value:m(v).commentFromStore||m(v).comment,onInput:r,ref_key:"textareaElem",ref:o},null,40,Yt)])])])])):K("",!0)]))}});const Gt=D(Kt,[["__scopeId","data-v-fc47bbe6"]]),Jt=s("hr",null,null,-1),Qt=s("hr",null,null,-1),Xt=$({__name:"Main",setup(t){return(e,o)=>(y(),C(A,null,[Jt,U(Tt),Qt,U(Nt),m(v)?(y(),P(Gt,{key:0})):K("",!0)],64))}}),Zt=t=>(B("data-v-80fad6c5"),t=t(),F(),t),zt=Zt(()=>s("a",{class:"readme",title:"Open Readme",href:"https://github.com/AlttiRi/href-lister#keeplister",target:"_blank"},[s("i",null,"i")],-1)),te=$({__name:"App",setup(t){return(e,o)=>(y(),C(A,null,[U(Xt),zt],64))}});const ee=D(te,[["__scopeId","data-v-80fad6c5"]]);ft(ee).mount("#app");
//# sourceMappingURL=index.js.map
