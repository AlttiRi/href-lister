import{r as T,c as $,d as x,o as v,a as y,b as a,w as R,v as W,u as b,i as Y,p as E,e as O,s as q,f as F,g as H,h as K,j as G,n as U,k as J,t as Q,l as X,m as Z,q as z,F as L,x as tt,y as M,z as et}from"./vendor.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function n(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerPolicy&&(i.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?i.credentials="include":t.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(t){if(t.ep)return;t.ep=!0;const i=n(t);fetch(t.href,i)}})();const g=T(""),P=$(()=>nt(g.value)),D=$(()=>P.value.map(e=>e.url));function nt(e){const r=e.split(`
`).map(o=>o.trim()).filter(o=>o),n=[];for(const o of r){const[t,...i]=o.split(/\s+(#|\/\/)/),[u,...c]=t.trim().split(/\s+/);if(u.startsWith("http")){const d=I(u);if(d&&c.every(m=>!I(m))){n.push({url:d,comment:[...c,...i].join(" ")});continue}d&&n.push({url:d})}else c.unshift(u);for(const d of c){const m=I(d);m&&n.push({url:m})}}return n}function I(e){const r=e.match(/(['"]?)(?<url>https?:\/\/[^\s"]+)(\1)/);if(console.log(r),r!=null&&r.groups)return r.groups.url}function ot(e,r=100){const n=c=>`${c.length?'["'+c.join('", "')+'"]':"[]"}`;if(e.length<=r)return`/* ${e.length.toString().padStart(3)} */ ${n(e)},`;const o=c=>c.toString().length,t=Math.trunc(e.length/r),u=[`/* ${e.length.toString().padStart(1+o(e.length))+" ".repeat(3+o(t))} */`];for(let c=0;c<=t;c++){const d=e.slice(r*c,r+r*c),m=`(${c+1})`.padStart(2+o(t)),s=d.length.toString().padStart(1+o(e.length));u.push(`/* ${s} ${m} */ ${n(d)},`)}return u.join(`
`)}const k=e=>(E("data-v-f9a7f093"),e=e(),O(),e),rt={class:"row row-cols-lg-3 g-3 align-items-end"},st={class:"input col-12"},at=k(()=>a("label",{for:"urls-textarea",class:"fuck-off-lighthouse"},null,-1)),it={class:"input col-12"},ct={class:"row"},lt=k(()=>a("span",{class:"btn-group"},[a("span",{class:"input-group-text me-2"},"Clipboard")],-1)),ut={class:".col m-1"},pt=k(()=>a("span",{class:"btn-group"},[a("span",{class:"input-group-text me-2 text-center"},"Controls")],-1)),dt=x({__name:"InputControls",setup(e){const r=new WeakMap;async function n(s){s.classList.add("btn-active");const l=q(150);r.set(s,l),await l,r.get(s)===l&&s.classList.remove("btn-active")}const o=T(null);function t(s){var l;g.value="",(l=o.value)==null||l.focus(),n(s.currentTarget)}function i(s){navigator.clipboard.writeText(D.value.join(" ")),n(s.currentTarget)}function u(s){s.preventDefault(),navigator.clipboard.writeText(D.value.join(`
`)),n(s.currentTarget)}function c(s){s.button===1&&(s.preventDefault(),navigator.clipboard.writeText(ot(D.value)),n(s.currentTarget))}async function d(s){const{currentTarget:l}=s,h=await navigator.clipboard.readText();console.log("[clipboard] readText:",h),g.value&&!g.value.endsWith(`
`)&&(g.value+=`
`),g.value+=h,n(l)}async function m(s){const{currentTarget:l}=s,h=await navigator.clipboard.readText();console.log("[clipboard] readText:",h),g.value=h,n(l)}return(s,l)=>(v(),y("div",rt,[a("div",st,[at,R(a("textarea",{id:"urls-textarea",spellcheck:"false","onUpdate:modelValue":l[0]||(l[0]=h=>Y(g)?g.value=h:null),ref_key:"textareaEl",ref:o},null,512),[[W,b(g)]])]),a("div",it,[a("span",ct,[a("span",{class:".col m-1"},[lt,a("button",{class:"btn btn-outline-primary me-1",onClick:m},"Replace"),a("button",{class:"btn btn-outline-primary me-1",onClick:d},"Append")]),a("span",ut,[pt,a("button",{class:"btn btn-outline-primary me-1",onClick:t},"Clear"),a("button",{class:"btn btn-primary me-1",title:"Copy URLs",onClick:i,onContextmenu:u,onPointerdown:c},"Copy",32)])])])]))}});const S=(e,r)=>{const n=e.__vccOpts||e;for(const[o,t]of r)n[o]=t;return n},ft=S(dt,[["__scopeId","data-v-f9a7f093"]]);function _t(e,r=50){let n=!1,o=!1,t,i;return function(){n?(t=this,i=arguments,o=!0):(n=!0,setTimeout(function(){o&&(e.apply(t,i),t=i=void 0),n=o=!1},r),e.apply(this,arguments))}}const mt=["title","onContextmenu"],gt=["href","title"],ht=x({__name:"UrlListItem",props:{ue:null},setup(e){const n=e.ue.url,o=F("HrefLister","Visits"),t=T(-1);H(async()=>{t.value=await m()||-2,console.log(t.value)});const i=$(u);function u(){return t.value<0?"never clicked":l(t.value)}const c=$(()=>{if(t.value<0)return"never-clicked";const f=Date.now(),p=Math.trunc((f-t.value)/1e3);return p<60?"minute-1":p<60*2?"minute-2":p<60*5?"minute-5":p<60*10?"minute-10":p<60*30?"minute-30":p<60*60?"hour-1":p<60*60*2?"hour-2":p<60*60*24?"day-1":"day-n"});async function d(){const f=Date.now();await X(n,f,o),t.value=f}function m(){return K(n,o)}async function s(){await Z(n,o),t.value=-2}function l(f){return G(f,"YYYY.MM.DD HH:mm:SS",!1)+" â€” "+h(f)}function h(f){const p=Date.now(),_=Math.trunc((p-f)/1e3);if(_<60)return`${_} second${_>1?"s":""} ago`;if(_<60*60){const C=Math.trunc(_/60);return`${C} minute${C>1?"s":""} ago`}if(_<60*60*24){const C=Math.trunc(_/60%60).toString().padStart(2,"0");return`${Math.trunc(_/60/60)}:${C} ago`}return Math.trunc(_/60/60/24)+" days ago"}const w=T(!1);function N(){w.value=!0,d()}function V(){w.value=!w.value}const A=_t(B,1e3);function B(){z(t)}function j(f){f.button===1&&(f.preventDefault(),s())}return(f,p)=>(v(),y("td",{class:U({clicked:w.value}),onPointerenter:p[0]||(p[0]=(..._)=>b(A)&&b(A)(..._))},[a("span",{class:U(["info-dot",{["has-comment"]:e.ue.comment,visited:t.value>0,[b(c)]:!0}]),title:b(i),onContextmenu:J(V,["prevent"]),onPointerdown:j},null,42,mt),a("a",{class:"url link-primary",target:"_blank",rel:"noreferrer noopener",href:e.ue.url,title:e.ue.comment,onClick:N},Q(e.ue.url),9,gt)],34))}});const vt=S(ht,[["__scopeId","data-v-fc75810a"]]),yt={class:"table table-borderless"},bt=x({__name:"UrlList",setup(e){return(r,n)=>(v(),y("div",null,[a("table",yt,[a("tbody",null,[(v(!0),y(L,null,tt(b(P),o=>(v(),y("tr",{key:o.url},[M(vt,{ue:o},null,8,["ue"])]))),128))])])]))}}),xt=a("hr",null,null,-1),wt=a("hr",null,null,-1),Ct=x({__name:"Main",setup(e){return(r,n)=>(v(),y(L,null,[xt,M(ft),wt,M(bt)],64))}}),Tt=e=>(E("data-v-c9a0b7c1"),e=e(),O(),e),$t=Tt(()=>a("a",{class:"readme",title:"Open Readme",href:"https://github.com/AlttiRi/href-lister#keeplister",target:"_blank"},[a("i",null,"i")],-1)),Mt=x({__name:"App",setup(e){return(r,n)=>(v(),y(L,null,[M(Ct),$t],64))}});const Dt=S(Mt,[["__scopeId","data-v-c9a0b7c1"]]);et(Dt).mount("#app");
//# sourceMappingURL=index.js.map
